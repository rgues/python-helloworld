{"version":3,"sources":["./src/app/dashboard/user/user-security/user-security.page.ts","./src/app/dashboard/user/user-security/user-security.module.ts","./src/app/dashboard/user/user-security/user-security.page.scss","./src/app/dashboard/user/user-security/user-security.page.html"],"names":[],"mappings":"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","file":"user-security-user-security-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '../service/user.service';\r\nimport { UiService } from 'src/app/shared/service/ui.service';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\nimport { LocalStorageService } from 'src/app/shared/service/local-storage.service';\r\nimport { AuthService } from 'src/app/auth/service/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-user-security',\r\n  templateUrl: './user-security.page.html',\r\n  styleUrls: ['./user-security.page.scss'],\r\n})\r\nexport class UserSecurityPage implements OnInit {\r\n\r\n  userSecurityForm: FormGroup;\r\n  loading: boolean;\r\n  errorEmail: boolean;\r\n  errorPhone: boolean;\r\n  validatorEmailOrPhone: boolean;\r\n  codePin: string;\r\n  userData: any;\r\n  validationMessages: any;\r\n  userPicture: string;\r\n  fisrtLogin: boolean;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private errorService: ErrorService,\r\n    private nav: NavController,\r\n    private router: Router,\r\n    private event: EventService,\r\n    private userService: UserService,\r\n    private authService: AuthService,\r\n    private location: TranslateService,\r\n    private ui: UiService,\r\n    private localStorage: LocalStorageService\r\n  ) {\r\n    this.loading = false;\r\n    this.errorEmail = false;\r\n    this.errorPhone = false;\r\n    this.validatorEmailOrPhone = false;\r\n    this.userData = this.userService.getUserData();\r\n    this.userPicture = this.userData && this.userData.picture ? `${this.userData.picture}` : null;\r\n    this.event.subscribe('user-data', user => {\r\n      this.userPicture = user && user.picture ? user.picture : null;\r\n    });\r\n    this.initMessage();\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.userData = this.userService.getUserData();\r\n    if (this.localStorage.getItem('fisrt-login') === 'yes') {\r\n      this.fisrtLogin = true;\r\n    }else {\r\n      this.fisrtLogin = false;\r\n    }\r\n    this.initPassForm();\r\n  }\r\n\r\n  // Form getters \r\n  get newPin() {\r\n    return this.userSecurityForm.get('new_pin');\r\n  }\r\n\r\n  get oldPin() {\r\n    return this.userSecurityForm.get('old_pin');\r\n  }\r\n\r\n  get newPinConfirm() {\r\n    return this.userSecurityForm.get('new_pin_confirm');\r\n  }\r\n\r\n\r\n  // Init form message\r\n  initMessage() {\r\n    this.location.get(['CODE_VALIDATION_MSG', 'DIGIT_MSG_MIN','DIGIT_MSG_MAX']).subscribe(value => {\r\n      this.validationMessages = {\r\n        pin: [\r\n          { type: 'required', message:  value.CODE_VALIDATION_MSG},\r\n          { type: 'maxlength', message: value.DIGIT_MSG_MAX},\r\n          { type: 'minlength', message: value.DIGIT_MSG_MIN}\r\n        ]\r\n      };\r\n    });\r\n  }\r\n\r\n\r\n  // Init form \r\n  initPassForm() {\r\n    const userPin = this.userService.getUserSecret();\r\n    this.userSecurityForm = this.fb.group({\r\n      old_pin: [this.fisrtLogin ? parseInt(userPin.password, 10) : '', Validators.compose([Validators.required,\r\n        Validators.minLength(5),\r\n         Validators.pattern('^[\\\\d]{5}$'),\r\n        Validators.maxLength(5)\r\n      ])],\r\n      new_pin: ['', Validators.compose([Validators.required,\r\n      Validators.minLength(5),\r\n      Validators.pattern('^[\\\\d]{5}$'),\r\n      Validators.maxLength(5)\r\n    ])],\r\n      new_pin_confirm: ['', Validators.compose([Validators.required,\r\n        Validators.minLength(5),\r\n       Validators.pattern('^[\\\\d]{5}$'),\r\n        Validators.maxLength(5)\r\n      ])]\r\n    });\r\n  }\r\n\r\n\r\n  // Cancel the modal\r\n  cancel() {\r\n    this.initPassForm();\r\n  }\r\n  \r\n\r\n  // Log in the user\r\n  auth(userCredentials : any) {\r\n    this.loading = true;\r\n    this.authService.authentication(userCredentials).subscribe(\r\n      (reponse: any) => {\r\n         if (reponse && reponse.message === 'success') {\r\n             this.location.get('USER_SECURITY_MSG4').subscribe(value => {\r\n              this.ui.presentToast(value);\r\n             });\r\n             this.initPassForm();\r\n             this.userService.setUserSecret(userCredentials);\r\n             this.userService.setUserToken(reponse.token);\r\n             this.userService.setUserRole(reponse.role);\r\n             this.userService.setUserData(reponse.user);\r\n             this.userService.setUserBadge(reponse.badge_name);\r\n             this.event.publish('new-token', reponse.token);\r\n             this.nav.setDirection('root');\r\n             if (this.localStorage.getItem('fisrt-login') === 'yes') {\r\n                this.localStorage.removeItem('fisrt-login');\r\n                this.router.navigate(['dashboard']);\r\n             } else {\r\n              this.router.navigate(['dashboard/user']);\r\n             }\r\n         }\r\n         this.loading = false;\r\n      }, error => {\r\n            this.loading = false;\r\n            if (error && error.error && error.error.user_not_found) {\r\n              this.location.get('ADD_SHARE_MSG3').subscribe(value => {\r\n                this.ui.presentToast(value);\r\n              });\r\n            } else {\r\n               this.errorService.manageError(error);\r\n            }\r\n      });\r\n  }\r\n\r\n  // Change the user pin\r\n  changePin() {\r\n    this.loading = true;\r\n    this.userService.updateUserPin(this.userSecurityForm.value).subscribe(\r\n      (reponse: any) => {\r\n        this.loading = false;\r\n        if (reponse && reponse.message === 'success') {\r\n        \r\n          const credentialsData = this.userService.getUserSecret();\r\n          const credentials = {\r\n            email_or_phone:  credentialsData.email_or_phone,\r\n            phone_prefix: credentialsData.phone_prefix,\r\n            password : this.userSecurityForm.value.new_pin\r\n           };\r\n           this.auth(credentials);\r\n        }\r\n      }, error => {\r\n        this.loading = false;\r\n        if (error && error.error && error.error.message === 'error') {\r\n\r\n          if (error.error.bad_old_pin) {\r\n            this.location.get('BAD_OLD_PIN').subscribe(value => {\r\n              this.ui.presentToast(value);\r\n            });\r\n          }\r\n\r\n          if (error.error.remplir_tous_les_champs) {\r\n            this.location.get('CONFIRM_PAY_CONTRIBUTION_MSG3').subscribe(value => {\r\n              this.ui.presentToast(value);\r\n            });\r\n          }\r\n          if (error.error.user_not_found) {\r\n            this.loading = true;\r\n            this.errorService.renewSession().then((data: any)=> {\r\n                if (data && data.result === \"OK\") {\r\n                    this.changePin();\r\n                } else {\r\n                  this.loading = false;\r\n                }\r\n            });\r\n          }\r\n\r\n        } else {\r\n          this.errorService.manageError(error);\r\n        }\r\n      });\r\n  }\r\n\r\n  \r\n  // skip change pin step\r\n  skipStep() {\r\n    this.localStorage.removeItem('fisrt-login');\r\n    this.nav.setDirection('root');\r\n    this.router.navigateByUrl('/dashboard');\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserSecurityPage } from './user-security.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserSecurityPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    SharedModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UserSecurityPage]\n})\nexport class UserSecurityPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLXNlY3VyaXR5LnBhZ2Uuc2NzcyJ9 */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" >\\r\\n      <ion-back-button *ngIf=\\\"!fisrtLogin\\\" color=\\\"primary\\\" defaultHref=\\\"/dashboard/user\\\" slot=\\\"text-only\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-avatar slot=\\\"start\\\">\\r\\n      <img src=\\\"{{userPicture ? userPicture : 'assets/post-img.svg'}}\\\" class=\\\"thumb-img\\\">\\r\\n    </ion-avatar>\\r\\n    <ion-title class=\\\"no-padding ion-margin-start\\\">\\r\\n        {{'USER_PROFILE_TEXT3' | translate }}\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"userSecurityForm\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <p> {{ 'USER_SECURITY_TEXT5' | translate }}</p>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row >\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">{{ 'M_OLD_PIN' | translate }}</ion-label>\\r\\n            <ion-input type=\\\"tel\\\" formControlName=\\\"old_pin\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n            <div class=\\\"validation-errors\\\">\\r\\n              <ng-container *ngFor=\\\"let validation of validationMessages.pin\\\">\\r\\n                <div class=\\\"error-message\\\" *ngIf=\\\"(oldPin.dirty || oldPin.touched) && oldPin.hasError(validation.type)\\\">\\r\\n                  <ion-icon name=\\\"information-circle-outline\\\" ></ion-icon>\\r\\n                  <span> {{ validation.message }}</span>\\r\\n                </div>\\r\\n              </ng-container>  \\r\\n            </div>  \\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row >\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">{{ 'M_NEW_PIN' | translate }}</ion-label>\\r\\n            <ion-input type=\\\"tel\\\" formControlName=\\\"new_pin\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n            <div class=\\\"validation-errors\\\">\\r\\n              <ng-container *ngFor=\\\"let validation of validationMessages.pin\\\">\\r\\n                <div class=\\\"error-message\\\" *ngIf=\\\"(newPin.dirty || newPin.touched) && newPin.hasError(validation.type)\\\">\\r\\n                  <ion-icon name=\\\"information-circle-outline\\\" ></ion-icon>\\r\\n                  <span> {{ validation.message }}</span>\\r\\n                </div>\\r\\n              </ng-container>  \\r\\n            </div>  \\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row >\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">{{ 'M_CONFIRM_NEW_PIN' | translate }}</ion-label>\\r\\n            <ion-input type=\\\"tel\\\" formControlName=\\\"new_pin_confirm\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n            <div class=\\\"validation-errors\\\">\\r\\n              <ng-container *ngIf=\\\"(userSecurityForm.value.new_pin !== userSecurityForm.value.new_pin_confirm) && (newPinConfirm.dirty || newPinConfirm.touched) && (newPin.dirty || newPin.touched) \\\">\\r\\n                <div class=\\\"error-message\\\">\\r\\n                  <ion-icon name=\\\"information-circle-outline\\\" ></ion-icon>\\r\\n                  <span> {{ 'PIN_NOT_MATCH' | translate }}</span>\\r\\n                </div>\\r\\n              </ng-container>  \\r\\n            </div>  \\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n \\r\\n    </ion-grid>\\r\\n  </form>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\">\\r\\n  <ion-button expand=\\\"full\\\" (click)=\\\"changePin()\\\" [disabled]=\\\"loading\\\" *ngIf=\\\"userSecurityForm.valid && (userSecurityForm.value.new_pin === userSecurityForm.value.new_pin_confirm)\\\"\\r\\n        color=\\\"warning\\\" \\r\\n        class=\\\"ion-text-uppercase\\\"\\r\\n        shape=\\\"round\\\">\\r\\n    {{'SAVE_TEXT' | translate}}\\r\\n  </ion-button>\\r\\n  <ion-button expand=\\\"full\\\" (click)=\\\"skipStep()\\\" *ngIf=\\\"userSecurityForm.invalid && fisrtLogin\\\"\\r\\n    color=\\\"warning\\\" \\r\\n    class=\\\"ion-text-uppercase\\\"\\r\\n    shape=\\\"round\\\">\\r\\n    {{'M_SKIP' | translate}}\\r\\n</ion-button>\\r\\n  <ion-spinner *ngIf=\\\"loading\\\" name=\\\"circles\\\"></ion-spinner>\\r\\n</ion-footer>\\r\\n\";"],"sourceRoot":"webpack:///"}