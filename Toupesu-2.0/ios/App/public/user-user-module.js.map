{"version":3,"sources":["./src/app/dashboard/user/user.page.ts","./src/app/dashboard/user/user.module.ts","./src/app/dashboard/user/user.page.html","./src/app/dashboard/user/user.page.scss"],"names":[],"mappings":"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","file":"user-user-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { LocationService } from 'src/app/shared/service/location.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, Platform } from '@ionic/angular';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { UiService } from 'src/app/shared/service/ui.service';\r\nimport { UserService } from './service/user.service';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\nimport { PluginService } from 'src/app/shared/service/plugin.service';\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  templateUrl: './user.page.html',\r\n  styleUrls: ['./user.page.scss'],\r\n})\r\nexport class UserPage implements OnInit {\r\n  userData: any;\r\n  currentLang: any;\r\n  defaultIndex: number;\r\n  sessionLang: string;\r\n  langHeader: string;\r\n  userPicture: string;\r\n  shareData: any[];\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private location: LocationService,\r\n    private platform: Platform,\r\n    private error: ErrorService,\r\n    private ui: UiService,\r\n    private event: EventService,\r\n    private router: Router,\r\n    private translate: TranslateService,\r\n    private alertController: AlertController,\r\n    private plugin: PluginService\r\n  ) { \r\n      this.userData = this.userService.getUserData();\r\n      this.userPicture = this.userData && this.userData.picture ? `${this.userData.picture}` : null;\r\n      this.event.subscribe('user-data', user => {\r\n        this.userPicture = user && user.picture ? user.picture : null;\r\n      });\r\n      this.currentLang = [];\r\n      this.defaultIndex = -1;\r\n      this.translate.get('USER_LANGUAGE').subscribe(trans => {\r\n          this.langHeader = trans;\r\n      });\r\n      this.shareData = [];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getLanguages(true);\r\n  }\r\n\r\n  // Get the list of language of the current location\r\n  getLanguages(refresher: boolean) {\r\n    this.location.getLanguages(refresher).then((languagesData: any) => {\r\n      this.currentLang = [];\r\n      const sessionLang = this.userService.getCurrentUserSessionLanguage();\r\n      this.sessionLang = sessionLang.toLocaleUpperCase();\r\n      let  currentLang = this.location.getCurrentUserLanguage();\r\n    \r\n      currentLang = this.sessionLang ? this.sessionLang : currentLang ? currentLang.code_langue : null;\r\n      const hasCurrentLang = currentLang  ? true : false;\r\n      if (languagesData) {\r\n        languagesData.forEach(data => {\r\n          if (data && data.langue ) {\r\n            this.currentLang.push({\r\n              lang: data.langue.code_langue,\r\n              name: data.langue.name,\r\n              active: hasCurrentLang && data.langue.code_langue === currentLang ?\r\n              true : !hasCurrentLang && data.langue.default_langue === 'yes' ? true : false,\r\n              countryId: data.langue.country_id,\r\n              langueData: data.langue,\r\n              translationData: data.keywords,\r\n              index: languagesData.indexOf(data)\r\n            });\r\n          }\r\n        });\r\n        this.currentLang.forEach(data => {\r\n          if (data && data.active) {\r\n            this.defaultIndex = this.currentLang.indexOf(data);\r\n            this.location.setCurrentUserLanguage(data.langueData);\r\n          }\r\n        });\r\n      } else {\r\n        this.currentLang = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  // Change the language\r\n  changeLang(index: number) {\r\n    this.defaultIndex = index;\r\n    this.currentLang.forEach(lang => {\r\n      if (lang.index === index) {\r\n        this.currentLang[index].active = true;\r\n        this.location.setUserCountry(this.currentLang[index].countryId);\r\n        this.location.setCurrentUserLanguage(this.currentLang[index].langueData);\r\n        this.location.setCurrentLanguageTranslation(this.currentLang[index].translationData);\r\n        this.location.sendTranslation(this.currentLang[index].translationData);\r\n        const langue = String(this.currentLang[index].lang);\r\n        this.translate.use(langue.toLocaleLowerCase());\r\n        this.router.routeReuseStrategy.shouldReuseRoute = function () {\r\n          return false;\r\n        };\r\n      } else {\r\n        this.currentLang[this.currentLang.indexOf(lang)].active = false;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  // Open the modal language\r\n  async openModalLang() {\r\n    const langData = [];\r\n    let index = 0;\r\n\r\n    this.currentLang.forEach(lang => {\r\n      langData.push(   {\r\n        name: 'Radio ' + (index + 1),\r\n        type: 'radio',\r\n        label: lang.name,\r\n        value: index,\r\n        checked: lang.active ? true :  false\r\n      });\r\n      index++;\r\n    });\r\n    const alert = await this.alertController.create({\r\n      header: this.langHeader,\r\n      inputs: langData,\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary'\r\n        }, \r\n        {\r\n          text: 'Ok',\r\n          handler: (data) => {\r\n            this.changeLang(data);\r\n            // update the user language\r\n            this.error.updateLang(this.currentLang[data].lang.toLocaleLowerCase());\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  // Share the app with friends\r\n  shareApp() {\r\n    let link = '';\r\n    if (this.platform.is('android')) {\r\n      link = 'https://bit.ly/2Zr78Me';\r\n    } else {\r\n      link = 'https://apple.co/2yrfLeM';\r\n    }\r\n    this.translate.get(['SHARE_MESSAGE','SHARE_TITLE']).subscribe(trans => {\r\n        this.shareData.push(trans.SHARE_MESSAGE);\r\n        this.shareData.push(trans.SHARE_TITLE);\r\n    });\r\n    this.plugin.share(this.shareData[0], this.shareData[1],link);\r\n  }\r\n\r\n    // Get the user picture\r\n    getPicture() {\r\n\r\n      this.plugin.getPicture().subscribe((picture : any) => {\r\n         // this.api.presentAlert('Image', JSON.stringify(picture));\r\n          if (picture) {\r\n            this.ui.presentLoading('');\r\n            this.userService.updatePicture({picture: picture}).subscribe((reponse: any) => {\r\n                this.ui.dismissLoading();\r\n                if (reponse && reponse.message === \"success\") {\r\n                  this.userPicture = picture;\r\n                  this.userService.getProfileUser().subscribe((user: any) => {\r\n                     this.event.publish('user-data', user.user);\r\n                     this.userService.setUserData(user.user);\r\n                  }, error => {\r\n                     if (error.error.user_not_found) {\r\n                      this.error.renewSession().then((data: any) => {\r\n                        if (data && data.result === \"OK\") {\r\n                            this.getPicture();\r\n                        }\r\n                       });\r\n                     } else {\r\n                       this.error.manageError(error);\r\n                     }\r\n                   });\r\n                }\r\n            }, error => {\r\n               \r\n                if (error && error.error && error.error.user_not_found) {\r\n                  this.error.renewSession().then((data: any) => {\r\n                      if (data && data.result === \"OK\") {\r\n                        this.ui.dismissLoading();\r\n                          this.getPicture();\r\n                      } else {\r\n                        this.ui.dismissLoading();\r\n                      }\r\n                  });              \r\n                } else {\r\n                  this.ui.dismissLoading();\r\n                  this.error.manageError(error);\r\n                }\r\n            });\r\n          } \r\n     });\r\n\r\n    }\r\n    \r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserPage } from './user.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserPage\n  },\n  {\n    path: 'profil',\n    loadChildren: () => import('./user-profil/user-profil.module').then(m => m.UserProfilPageModule)\n  },\n  {\n    path: 'security',\n    loadChildren: () => import('./user-security/user-security.module').then(m => m.UserSecurityPageModule)\n  },\n  {\n    path: 'pay-method',\n    loadChildren: () => import('./user-pay-method/user-pay-method.module').then(m => m.UserPayMethodPageModule)\n  },\n  {\n    path: 'auto-pay-tontine',\n    loadChildren: () => import('./auto-pay-tontine/auto-pay-tontine.module').then(m => m.AutoPayTontinePageModule)\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [\n    UserPage\n  ],\n  providers: [\n\n  ]\n})\nexport class UserPageModule {}\n","export default \"<ion-header>\\r\\n  <ion-toolbar class=\\\"with-logo\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/dashboard\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n        <ion-img class=\\\"logo\\\" [src]=\\\"'assets/logo-toupesu.svg'\\\"></ion-img>\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"ion-text-center subtitle\\\">\\r\\n      <ion-title>{{ 'M_PROFILE_CONFIG' | translate }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"user-home\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"avatar-block\\\">\\r\\n      <ion-col>\\r\\n        <ion-list lines=\\\"none\\\">\\r\\n          <ion-item>\\r\\n            <ion-avatar slot=\\\"start\\\">\\r\\n              <img src=\\\"{{userPicture ? userPicture : 'assets/post-img.svg'}}\\\">\\r\\n            </ion-avatar>\\r\\n            <ion-label>\\r\\n              <p>{{ 'M_WELCOME' | translate }}</p>\\r\\n              <h2>{{userData.firstname ? userData.firstname : ''}} {{userData.lastname ? userData.lastname : userData.phone}}</h2>        \\r\\n            </ion-label>\\r\\n              <ion-button slot=\\\"end\\\" color=\\\"primary\\\" size=\\\"medium\\\" class=\\\"ion-text-capitalize\\\" (click)=\\\"getPicture()\\\">\\r\\n                  <ion-icon name=\\\"camera\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n          </ion-item>\\r\\n        </ion-list>  \\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row class=\\\"action-block\\\">\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-list lines=\\\"none\\\">\\r\\n          <ion-item routerLink=\\\"profil\\\" detail>\\r\\n            <ion-icon name=\\\"person\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'M_ACCOUNT_DES' | translate }}</b></p>\\r\\n              <p>{{ 'M_ACCOUNT_DES_EDIT' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n          <ion-item routerLink=\\\"security\\\" detail>\\r\\n            <ion-icon name=\\\"key\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'USER_PROFILE_TEXT3' | translate }}</b></p>\\r\\n              <p>{{ 'M_UPDATE_PASSWORD' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n          <ion-item routerLink=\\\"pay-method\\\" detail>\\r\\n            <ion-icon name=\\\"cash\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'USER_PROFILE_TEXT4' | translate }}</b></p>\\r\\n              <p>{{ 'M_PAYMENT_DES' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n          <ion-item routerLink=\\\"auto-pay-tontine\\\" detail>\\r\\n            <ion-icon name=\\\"open\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'TONTINE_AUTOMATIC_PAY' | translate }}</b></p>\\r\\n              <p>{{'M_AUTO_SOLUTION' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item (click)=\\\"shareApp()\\\" detail>\\r\\n            <ion-icon name=\\\"share\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'INVITE_FRIENDS' | translate }}</b></p>\\r\\n              <p>{{'INVITE_FRIENDS_MSG' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item routerLink=\\\"/dashboard/feedback\\\" detail>\\r\\n            <ion-icon name=\\\"quote\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'MENU_FEEDBACK' | translate }}</b></p>\\r\\n              <p>{{'MENU_FEEDBACK_MSG' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item (click)=\\\"openModalLang()\\\" *ngIf=\\\"currentLang && currentLang.length > 0\\\" detail>\\r\\n            <ion-icon name=\\\"chatbubbles\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p><b>{{ 'USER_LANGUAGE' | translate }} : </b> <span>{{ defaultIndex !== -1  ? currentLang[defaultIndex].name : sessionLang}}</span> </p>\\r\\n              <p>{{'M_USER_LANG_DES' | translate }}</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n          <ion-item >\\r\\n            <ion-icon slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-text>\\r\\n              <p>{{'APP_VERSION_TEXT' | translate }} : 1.3.4 (20210506)</p>\\r\\n            </ion-text>\\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  \\r\\n</ion-content>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}