{"version":3,"sources":["./src/app/dashboard/my-tontines/tontine-detail/loans/loans-my/loans-my.page.html","./src/app/dashboard/my-tontines/tontine-detail/loans/loans-my/loans-my.module.ts","./src/app/dashboard/my-tontines/tontine-detail/loans/loans-my/loans-my.page.ts","./src/app/dashboard/my-tontines/tontine-detail/loans/loans-my/loans-my.page.scss"],"names":[],"mappings":"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","file":"loans-my-loans-my-module.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color=\\\"primary\\\" [defaultHref]=\\\"['/','dashboard','my-tontines',currentTontine.tontine.tontine_id,'loans','loans-my-list']\\\" slot=\\\"text-only\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-avatar slot=\\\"start\\\">\\r\\n        <ion-img [src]=\\\"'assets/join-icon.svg'\\\" class=\\\"thumb-img\\\"></ion-img>\\r\\n    </ion-avatar>\\r\\n    <ion-title class=\\\"no-padding\\\">\\r\\n      {{'MY_LOANS_TEXT' | translate}}\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"ion-text-center subtitle\\\" *ngIf=\\\"infoSeance && infoSeance.date_debut\\\">\\r\\n    <ion-title>{{ 'SESSION_OF' | translate }} {{ infoSeance ? ( infoSeance.date_debut  | toDateObj | date : 'mediumDate') : '' }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"my-loans\\\">\\r\\n\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreSher($event)\\\">\\r\\n    <ion-refresher-content\\r\\n      pullingIcon=\\\"reload-outline\\\"\\r\\n      refreshingSpinner=\\\"circles\\\"\\r\\n      refreshingText=\\\"{{ 'M_REFRESHING_TEXT' | translate }}\\\">\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <p class=\\\"ion-text-center\\\"  *ngIf=\\\"loading\\\">\\r\\n    <ion-spinner  name=\\\"circles\\\"></ion-spinner>\\r\\n  </p>\\r\\n\\r\\n  <ion-grid  *ngIf=\\\"!loading\\\">\\r\\n    <div class=\\\"block-1\\\">\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-label class=\\\"ion-padding-vertical\\\" (click)=\\\"selectPool()\\\">\\r\\n              <strong>\\r\\n                <small>{{ 'CYCLE_TEXT' | translate }}/{{ 'SESSION_TEXT' | translate }} \\r\\n                : {{infoCycle ? infoCycle.numerocycle : 0}}/ {{infoSeance ? infoSeance.numero_seance : 0}}\\r\\n              </small>\\r\\n            </strong>    \\r\\n            <ion-text class=\\\"ion-float-right\\\"><ion-icon *ngIf=\\\"currentLoanData && currentLoanData.length > 0\\\" name=\\\"ios-arrow-down\\\"></ion-icon></ion-text>       \\r\\n          </ion-label>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row class=\\\"row-1\\\">\\r\\n        <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'LOANS_TEXT' | translate }}<br/> {{ 'DUE_TEXT' | translate }} <br/> ({{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }})</b><br/>\\r\\n          {{currentLoan ? (currentLoan.loan_due | commadumper) : 0}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'LOANS_TEXT' | translate }}<br/> {{ 'PAIDED_TEXT' | translate }} <br/> ({{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }})</b><br/> \\r\\n          {{currentLoan ? (currentLoan.loan_paid | commadumper) : 0}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'LOANS_TEXT' | translate }}<br/> {{ 'IN_VALIDATION_TEXT' | translate }} <br/> ({{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }})</b><br/> \\r\\n          {{currentLoan ? ((currentLoan.loan_due - currentLoan.loan_paid - currentLoan.loan_remain)|  commadumper) : 0}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'LOANS_TEXT' | translate }}<br/> {{ 'REMAIN_TEXT' |  translate }} <br/> ({{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }}) </b>  <br/> \\r\\n           {{currentLoan ? ((currentLoan.loan_remain)| commadumper) : 0}}\\r\\n          <br/>\\r\\n              <ion-button size=\\\"small\\\" *ngIf=\\\"currentLoan && currentLoan.loan_remain > 0\\\" (click)=\\\"confirmPin()\\\"\\r\\n                class=\\\"pay-remain\\\"\\r\\n                color=\\\"warning\\\"> {{ 'PAY_TEXT' | translate }}\\r\\n            </ion-button> \\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </div>\\r\\n    <div class=\\\"block-2\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\" size-md>\\r\\n          <ion-label>\\r\\n            <h3>{{ 'LOANS_GRAPH_TEXT' | translate}}</h3>\\r\\n          </ion-label>        \\r\\n          <div class=\\\"donut-wrap\\\">\\r\\n            <div [class]=\\\"(getPercentage(currentLoan ? currentLoan.pourcentage_loan_paid : 0))\\\">\\r\\n              <div class=\\\"donut-text\\\">\\r\\n                <small>{{ 'INTEREST_GENERATE' | translate }}({{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }})</small>\\r\\n                <p>{{currentLoan ? (currentLoan.interest_generate | commadumper) : 0 }}</p>\\r\\n              </div>\\r\\n            </div>\\r\\n            <span class=\\\"tooltip\\\" tooltip=\\\"(currentLoan ? currentLoan.pourcentage_loan_paid : 0)%\\\">{{ 'PAID_TEXT' | translate }}</span>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\" size-md>\\r\\n          <div class=\\\"donut-legend ion-padding-horizontal\\\">\\r\\n            <p class=\\\"legend-color1\\\"><small>{{ 'LOAN_TEXT' | translate }}  {{ 'PAID_TEXT' | translate }}:</small> <br/> <span>{{currentLoan ? (currentLoan.pourcentage_loan_paid | commadumper) : 0}}%</span> </p>\\r\\n            <p class=\\\"legend-color2\\\"><small>{{ 'LOAN_TEXT' | translate }} {{ 'IN_VALIDATION_TEXT' |  translate }}:</small><br/> <span>{{currentLoan && (currentLoan.pourcentage_loan_paid > 0 || currentLoan.pourcentage_loan_remain > 0) ? ((100 - currentLoan.pourcentage_loan_paid - currentLoan.pourcentage_loan_remain) | commadumper) : 0}}%</span> </p>\\r\\n            <p class=\\\"legend-color2\\\"><small>{{ 'LOAN_TEXT' | translate }} {{ 'REMAIN_TEXT' |  translate }}:</small><br/> <span>{{currentLoan ? (currentLoan.pourcentage_loan_remain | commadumper) : 0}}%</span> </p>\\r\\n            <p *ngIf=\\\"currentLoan && currentLoan.interest_target\\\"><small>{{ 'INTEREST_TARGET' | translate }}: </small> <span class=\\\"font-weight-bolder\\\">{{currentLoan ? (currentLoan.interest_target | commadumper) + ' ' + (currentTontine.tontine ? currentTontine.tontine.monnaie : '') : ('NOT_SET' | translate)}}</span> </p>\\r\\n            <p *ngIf=\\\"currentTontine && currentTontine.tontine && currentTontine.tontine.type_of_target_loan\\\"><small>{{ 'LOAN_TARGET_PER_CYCLE' | translate }}: </small> <span class=\\\"font-weight-bolder\\\">{{currentTontine.tontine ? (currentTontine.tontine.value_type_of_target | commadumper) + ' ' + ( currentTontine.tontine ? currentTontine.tontine.monnaie : '') : ('NOT_SET' | translate)}}</span> </p>\\r\\n            <p><small>{{ 'DAYS_LEFT_TEXT' | translate }}: </small> <span class=\\\"font-weight-bolder\\\">{{currentLoan ? currentLoan.days_left : 0}} {{'DAYS_TEXT' | translate}}</span> </p>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </div>\\r\\n    <div class=\\\"block-3\\\">\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-label>\\r\\n            <h3>{{ 'CREDIT_LINE_APPROVE_TEXT' | translate }} ({{creditLineApprove || creditLineApprovePaid ? (creditLineApprove.length + creditLineApprovePaid.length) : 0}})</h3>\\r\\n          </ion-label>  \\r\\n          <ion-list *ngIf=\\\"creditLineApprove && creditLineApprove.length > 0\\\">\\r\\n            <ion-item *ngFor=\\\"let item of creditLineApprove\\\">\\r\\n              <ion-label><ion-text color=\\\"warning\\\"><i>{{item ? (item.updated_at | toDateObj | date : 'mediumDate') : '' }}</i></ion-text> -  {{item ? (item.amount | commadumper) : 0 }} {{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }}</ion-label>\\r\\n            </ion-item>\\r\\n          </ion-list>\\r\\n          <ion-list *ngIf=\\\"creditLineApprovePaid && creditLineApprovePaid.length > 0\\\">\\r\\n            <ion-item *ngFor=\\\"let item of creditLineApprovePaid\\\">\\r\\n              <ion-label><ion-text color=\\\"warning\\\"><i>{{item ? (item.updated_at | toDateObj | date : 'mediumDate') : '' }}</i></ion-text> -  {{item ? (item.amount | commadumper) : 0 }} {{currentTontine && currentTontine.tontine ? currentTontine.tontine.monnaie : '' }} ({{ 'LOAN_PAYMENT_TEXT' | translate }})</ion-label>\\r\\n            </ion-item>\\r\\n          </ion-list>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </div>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\" *ngIf=\\\"!loading\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row> \\r\\n      <ion-col size=\\\"6\\\" >\\r\\n        <ion-button expand=\\\"full\\\"  [disabled]=\\\"interestsDue && interestsDue.length === 0\\\"\\r\\n              color=\\\"warning\\\" \\r\\n              class=\\\"ion-text-uppercase\\\"\\r\\n              shape=\\\"round\\\" \\r\\n              (click)=\\\"showInterest(interestsDue)\\\">\\r\\n          {{ 'INTEREST_DUE_TEXT' | translate}}\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"6\\\">\\r\\n        <ion-button expand=\\\"full\\\" [disabled]=\\\"!currentLoan|| currentTontine && !currentTontine.cycle_courant\\\"\\r\\n              color=\\\"warning\\\" \\r\\n              class=\\\"ion-text-uppercase\\\"\\r\\n              shape=\\\"round\\\" \\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'loans','loans-history',infoCycle ? infoCycle.id : 0,infoSeance ? infoSeance.id : 0]\\\">\\r\\n          {{ 'MENU_HISTORY' | translate }}\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoansMyPage } from './loans-my.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoansMyPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    SharedModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoansMyPage]\r\n})\r\nexport class LoansMyPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ContributionLoanComponent } from 'src/app/shared/contribution-loan/contribution-loan.component';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { LoanErrorService } from 'src/app/dashboard/my-tontines/tontine-detail/loans/service/loan-error.service';\r\nimport { TontineService } from '../../../services/tontine.service';\r\nimport { LoanService } from '../service/loan.service';\r\nimport { UtilService } from 'src/app/shared/service/util.service';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\n\r\n@Component({\r\n  selector: 'app-loans-my',\r\n  templateUrl: './loans-my.page.html',\r\n  styleUrls: ['./loans-my.page.scss'],\r\n})\r\nexport class LoansMyPage implements OnInit {\r\n  currentTontine: any;\r\n  loading: boolean;\r\n  currentLoan: any;\r\n  creditLineApprove: any;\r\n  creditLineApprovePaid: any;\r\n  currentLoanData: any;\r\n  interestsDue: any;\r\n  infoSeance: any;\r\n  infoCycle: any;\r\n  currentCycleId: any;\r\n  currentSeanceId: any;\r\n\r\n  constructor(\r\n    private tontine: TontineService,\r\n    private params: ActivatedRoute,\r\n    private alertController: AlertController,\r\n    private modatCtrl: ModalController,\r\n    private events: EventService,\r\n    private router: Router,\r\n    private translate: TranslateService,\r\n    private util: UtilService,\r\n    private loanService: LoanService,\r\n    private loanError: LoanErrorService,\r\n    private error: ErrorService\r\n  ) {\r\n    this.currentTontine = this.tontine.getCurrentTontineData();\r\n    this.currentLoan = null;\r\n    this.creditLineApprove = [];\r\n    this.creditLineApprovePaid = [];\r\n    this.interestsDue = [];\r\n    this.infoSeance = null;\r\n    this.infoCycle = null;\r\n    this.loading = false;\r\n    this.currentCycleId = parseInt(this.params.snapshot.params.cycleId);\r\n    this.currentSeanceId = parseInt(this.params.snapshot.params.seanceId);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.getLoanData(null);\r\n  }\r\n\r\n  // Get the loans data\r\n  getLoanData(event: any) {\r\n    if (this.currentTontine && this.currentTontine.cycle_courant) {\r\n      const param = {\r\n        tontine_id: this.currentTontine.tontine.tontine_id,\r\n        cycle_id: this.currentTontine.cycle_courant.id\r\n      };\r\n      this.loanService.getMemberLoanDashBordCycle(param).subscribe((data: any) => {\r\n\r\n        if (data && data.message === 'success' && data.liste_my_loan.length > 0) {\r\n          this.currentLoanData = this.util.orderBySeanceKeyUp(data.liste_my_loan);\r\n          if (this.currentLoanData && this.currentLoanData.length > 0) {\r\n            const currentLoan = this.currentLoanData.filter((loan) => { return loan.infos_cycle.id === this.currentCycleId && loan.infos_seance.id === this.currentSeanceId });\r\n            this.currentLoan = currentLoan[0];\r\n            this.creditLineApprove = this.util.orderByKeyUp(this.currentLoan.credit_line_approve, 'updated');\r\n            this.creditLineApprovePaid = this.util.orderByKeyUp(this.currentLoan.credit_line_paid, 'updated');\r\n            this.interestsDue = this.currentLoan.interests_due;\r\n            this.infoSeance = this.currentLoan.infos_seance;\r\n            this.infoCycle = this.currentLoan.infos_cycle;\r\n          }\r\n\r\n        }\r\n        if (event) {\r\n          setTimeout(() => {\r\n            event.target.complete();\r\n          }, 2000);\r\n        }\r\n        this.loading = false;\r\n      }, error => {\r\n        if (event) {\r\n          event.target.complete();\r\n        }\r\n       \r\n        if (error && error.error && error.error.message === \"error\") {\r\n          if (error && error.error && error.error.user_not_found) {\r\n            this.error.renewSession().then((data: any) => {\r\n              if (data.result === 'OK') {\r\n                this.getLoanData(event);\r\n              } else {\r\n                this.loading = false;\r\n              }\r\n            });\r\n          } else {\r\n            this.loading = false;\r\n            this.loanError.manageLoanError(error);\r\n          }\r\n        } else {\r\n          this.loading = false;\r\n          this.error.manageError(error);\r\n        }\r\n      });\r\n    } else {\r\n      if (event) {\r\n        event.target.complete();\r\n      }\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  // Filter by loan seance \r\n  filterBySeance(SeanceCycleId: any) {\r\n    this.currentLoan = [];\r\n    const param = SeanceCycleId.split('#');\r\n    this.currentLoanData.forEach(data => {\r\n      if (data.infos_cycle.id.toString() === param[0] && data.infos_seance.id.toString() === param[1]) {\r\n        this.currentLoan = data;\r\n        this.creditLineApprove = this.currentLoan.credit_line_approve;\r\n        this.interestsDue = this.currentLoan.interests_due;\r\n        this.infoSeance = this.currentLoan.infos_seance;\r\n        this.infoCycle = this.currentLoan.infos_cycle;\r\n      }\r\n    });\r\n  }\r\n\r\n  selectPool() {\r\n    const seanceData = [];\r\n    let i = 0;\r\n    this.currentLoanData.forEach(loan => {\r\n      this.translate.get(['CYCLE_TEXT', 'SESSION_TEXT']).subscribe(trans => {\r\n        seanceData.push({\r\n          name: 'radio' + i,\r\n          label: `${trans.CYCLE_TEXT}/${trans.SESSION_TEXT} : ${loan.infos_cycle.numerocycle}/${loan.infos_seance.numero_seance}`,\r\n          type: 'radio',\r\n          value: `${loan.infos_cycle.id}#${loan.infos_seance.id}`,\r\n          checked: false\r\n        });\r\n      });\r\n      i++;\r\n    });\r\n    this.translate.get(['OK_TEXT', 'CANCEL_TEXT', 'FILTER_TEXT']).subscribe(trans => {\r\n      this.presentAlertRadio(seanceData, `${trans.OK_TEXT}`, `${trans.CANCEL_TEXT}`, `${trans.FILTER_TEXT}`);\r\n    });\r\n  }\r\n\r\n  async presentAlertRadio(data: any, okText: string, cancelText: string, filterText: string) {\r\n    const alert = await this.alertController.create({\r\n      header: filterText,\r\n      inputs: data,\r\n      buttons: [\r\n        {\r\n          text: cancelText,\r\n          role: 'cancel',\r\n          handler: () => {\r\n          }\r\n        }, {\r\n          text: okText,\r\n          handler: (data) => {\r\n            this.filterBySeance(data)\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  // show loan interest\r\n  showInterest(interest: any) {\r\n    this.loanService.sendLoanData(interest);\r\n    this.router.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'loans', 'loans-interests', this.currentCycleId, this.currentSeanceId]);\r\n  }\r\n\r\n\r\n  // Refresh the list\r\n  refreSher(event) {\r\n    this.getLoanData(event);\r\n  }\r\n\r\n  getPercentage(data: number) {\r\n    return this.loanService.getPercentage(data);\r\n  }\r\n\r\n\r\n  // Pay the loan\r\n  payLoan() {\r\n    let amountPayLoan = 0;\r\n    let totalAmount = 0;\r\n\r\n    // Construct loan object\r\n    const paymentLoanObject = [];\r\n    this.creditLineApprove.forEach(loan => {\r\n      totalAmount += loan.amount;\r\n      if (loan && loan.rest_amount_loan_to_pay > 0) {\r\n        amountPayLoan += loan.rest_amount_loan_to_pay;\r\n        paymentLoanObject.push({ loan_request_id: loan.id, amount: loan.rest_amount_loan_to_pay });\r\n      }\r\n    });\r\n\r\n    const loanData = {\r\n      currency_name: this.currentTontine.tontine.monnaie,\r\n      title: this.currentTontine.tontine.name,\r\n      list_loan: paymentLoanObject,\r\n      total_loan: totalAmount,\r\n      all_Amount: amountPayLoan,\r\n      type: 'loan-interest'\r\n    };\r\n\r\n    this.loanService.sendLoanData(loanData);\r\n    this.modatCtrl\r\n      .create({\r\n        component: ContributionLoanComponent,\r\n        componentProps: {\r\n          tontineName: this.currentTontine.tontine.name,\r\n          amountPay: amountPayLoan,\r\n          balance: totalAmount - amountPayLoan,\r\n          currency: this.currentTontine.tontine.monnaie,\r\n          type: 'loan-interest'\r\n        }\r\n      })\r\n      .then(modalEl => {\r\n        modalEl.present();\r\n        modalEl.onDidDismiss().then((ans) => {\r\n          if (ans && ans.data === 'complete') {\r\n            this.loading = true;\r\n            this.getLoanData(null);\r\n            this.events.publish('loans-paid');\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  // show the pin confirmation dialog\r\n  confirmPin() {\r\n    this.payLoan();\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2Fucy1teS5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}