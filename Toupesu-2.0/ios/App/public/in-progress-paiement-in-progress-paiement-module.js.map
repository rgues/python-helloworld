{"version":3,"sources":["./src/app/dashboard/my-tontines/tontine-detail/debts/in-progress-paiement/in-progress-paiement.page.html","./src/app/dashboard/my-tontines/tontine-detail/debts/in-progress-paiement/in-progress-paiement.page.ts","./src/app/dashboard/my-tontines/tontine-detail/debts/in-progress-paiement/in-progress-paiement.module.ts","./src/app/dashboard/my-tontines/tontine-detail/debts/in-progress-paiement/in-progress-paiement.page.scss"],"names":[],"mappings":"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","file":"in-progress-paiement-in-progress-paiement-module.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color=\\\"primary\\\" [defaultHref]=\\\"'/dashboard/my-tontines/'+ currentTontine.tontine.tontine_id +'/debts/due'\\\" slot=\\\"text-only\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-avatar slot=\\\"start\\\">\\r\\n        <ion-img [src]=\\\"'assets/join-icon.svg'\\\" class=\\\"thumb-img\\\"></ion-img>\\r\\n    </ion-avatar>\\r\\n    <ion-title class=\\\"no-padding\\\">\\r\\n     {{'DEBTS_IN_PROCESS' | translate }}\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"ion-text-center subtitle\\\" *ngIf=\\\"reference\\\">\\r\\n    <ion-title>ref.: {{reference ? reference : '' }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"in-progress\\\">\\r\\n  <p class=\\\"ion-text-center\\\"  *ngIf=\\\"loading\\\">\\r\\n    <ion-spinner  name=\\\"circles\\\"></ion-spinner>\\r\\n  </p>\\r\\n  <ion-grid>\\r\\n    <ion-row *ngIf=\\\"currentUser\\\">\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-text><b>{{'M_NAME_TEXT' | translate }}: </b> {{currentUser && currentUser.firstname ? currentUser.firstname : ''}} {{currentUser && currentUser.lastname ? currentUser.lastname : ''}}</ion-text>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-text><b>{{'PHONE_TEXT' | translate}}: </b> {{currentUser && currentUser.phone_with_prefix ? currentUser.phone_with_prefix : ''}}</ion-text>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-text><b>{{'EMAIL_TEXT' | translate}}: </b> {{currentUser && currentUser.email ? currentUser.email : ''}}</ion-text>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row *ngIf=\\\"myDebts && myDebts.length > 0\\\">\\r\\n      <ion-col><ion-text color=\\\"primary\\\"><h4 class=\\\"ion-no-margin\\\">{{'DETAIL_OF_DEBTS' | translate}}</h4></ion-text></ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row  *ngIf=\\\"myDebts && myDebts.length > 0\\\">\\r\\n      <ion-col>\\r\\n        <ion-list>\\r\\n          <ion-item *ngFor=\\\"let debt of myDebts\\\">\\r\\n            <ion-label>\\r\\n              <p>                \\r\\n                <span class=\\\"ion-float-left\\\"><small>{{ 'DATE_TEXT' | translate }}: </small>{{  debt && debt.created_at ? (debt.created_at.split(' ')[0] | date :'mediumDate') : ''}}</span>\\r\\n                <span class=\\\"ion-float-right\\\"><b><small>{{ 'CYCLE_TEXT' | translate }}/{{'SESSION_TEXT' | translate}}: </small>{{  debt && debt.numero_cycle ? debt.numero_cycle : 0  }}/{{ debt && debt.numero_seance ? debt.numero_seance : 0 }}</b></span> \\r\\n              </p>\\r\\n              <h3>{{ debt.description ? (debt.description | translate) : '' }}</h3>\\r\\n              <h2><ion-text color=\\\"warning\\\">{{ debt.montant ? (debt.montant | commadumper) : 0}} {{currentTontine.tontine.monnaie }}</ion-text></h2>\\r\\n            </ion-label>            \\r\\n          </ion-item>\\r\\n          <ion-item>\\r\\n            <ion-label>\\r\\n              <div class=\\\"ion-text-end\\\">\\r\\n                <p>{{'DEBT_TOTAL_DUE' | translate }}: <b>{{(totalBill | commadumper)}} {{currentTontine.tontine.monnaie }}</b></p>\\r\\n                <p>{{'DEBT_TOTAL_PAID' | translate }}: {{0}} {{currentTontine.tontine.monnaie }}</p>\\r\\n                <p><ion-text color=\\\"danger\\\">{{ 'DEBT_BALANCE' | translate}}: <b>{{(totalBalance | commadumper)}} {{currentTontine.tontine.monnaie }}</b></ion-text></p>\\r\\n              </div>\\r\\n            </ion-label>            \\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\" *ngIf=\\\"proofsList && proofsList.length === 0  && !loading && totalBill !== 0\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row> \\r\\n      <ion-col>\\r\\n        <ion-button expand=\\\"full\\\"  [disabled]=\\\"loadingPay\\\"  (click)=\\\"saveBill(0)\\\"\\r\\n              fill=\\\"outline\\\"\\r\\n              color=\\\"warning\\\" \\r\\n              class=\\\"ion-text-uppercase\\\"\\r\\n              shape=\\\"round\\\">\\r\\n          {{'PAY_LATER_TEXT' | translate}}\\r\\n        </ion-button>\\r\\n    </ion-col>\\r\\n      <ion-col>\\r\\n          <ion-button expand=\\\"full\\\"  [disabled]=\\\"loadingPay\\\" \\r\\n                color=\\\"warning\\\" \\r\\n                class=\\\"ion-text-uppercase\\\"\\r\\n                shape=\\\"round\\\"\\r\\n                (click)=\\\"confirmPin()\\\">\\r\\n           {{'DEBT_MAKE_PAYMENT' | translate}}\\r\\n          </ion-button>\\r\\n      </ion-col>      \\r\\n    </ion-row>\\r\\n    <p *ngIf=\\\"loadingPay\\\" class=\\\"ion-text-center ion-padding\\\">\\r\\n      <ion-spinner  name=\\\"circles\\\"></ion-spinner>\\r\\n    </p>\\r\\n  </ion-grid>\\r\\n</ion-footer>\\r\\n\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModalController, IonInfiniteScroll, NavController } from '@ionic/angular';\r\nimport { ContributionComponent } from '../../../../../shared/contribution/contribution.component';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { TontineService } from '../../../services/tontine.service';\r\nimport { DebtsManagerService } from '../../../services/debts-manager.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ContributionService } from '../../../services/contribution.service';\r\nimport { FormUtilsService } from 'src/app/shared/service/form-utils.service';\r\nimport { TontineErrorService } from 'src/app/dashboard/my-tontines/services/tontine-error.service';\r\nimport { UserService } from 'src/app/dashboard/user/service/user.service';\r\nimport { UiService } from 'src/app/shared/service/ui.service';\r\n\r\n@Component({\r\n  selector: 'app-in-progress-paiement',\r\n  templateUrl: './in-progress-paiement.page.html',\r\n  styleUrls: ['./in-progress-paiement.page.scss'],\r\n})\r\nexport class InProgressPaiementPage implements OnInit {\r\n\r\n  myDebts: any[] = [];\r\n  proofsList: any[] = [];\r\n  allCurrencies: any;\r\n  currentCurrency: any;\r\n  currentTontine: any;\r\n  currentUser: any;\r\n  currentCycle: any;\r\n  currentFacture: any;\r\n  totalDue: number;\r\n  totalPay: number;\r\n  totalBill: number;\r\n  totalBalance: number;\r\n  billId: any;\r\n  itemsData: any;\r\n  itemsList: any;\r\n  reference: string;\r\n  loadingPay: boolean;\r\n  loading: boolean;\r\n  allData: any;\r\n  nbItems: number;\r\n  @ViewChild(IonInfiniteScroll, { static: false }) infiniteScroll: IonInfiniteScroll;\r\n\r\n  constructor(\r\n    private modatCtrl: ModalController,\r\n    private activate: ActivatedRoute,\r\n    private userService: UserService,\r\n    private translate: TranslateService,\r\n    private contribution: ContributionService,\r\n    private navcontroler: NavController,\r\n    private formUtil: FormUtilsService,\r\n    private route: Router,\r\n    private ui: UiService,\r\n    private debt: DebtsManagerService,\r\n    private tontine: TontineService,\r\n    private tontineError: TontineErrorService,\r\n    private error: ErrorService\r\n  ) {\r\n    this.allCurrencies = [];\r\n    this.currentTontine = this.tontine.getCurrentTontineData();\r\n    this.currentCycle = this.currentTontine.cycle_courant;\r\n    this.totalDue = 0;\r\n    this.totalBill = 0;\r\n    this.totalBalance = 0;\r\n    this.itemsData = [];\r\n    this.reference = this.formUtil.getRandomId();\r\n    this.itemsList = [];\r\n    this.loadingPay = false;\r\n    this.loading = false;\r\n    this.allData = [];\r\n    this.nbItems = 10;\r\n    this.billId = this.activate.snapshot.params.id;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loading = false;\r\n    this.getCurrency();\r\n    this.storageBillData();\r\n  }\r\n\r\n  // Get all the currency\r\n  getCurrency() {\r\n    this.contribution.getCurrencies().subscribe((reponse: any) => {\r\n      this.allCurrencies = reponse.device;\r\n      this.allCurrencies.forEach(cur => {\r\n        if (cur && cur.name === this.currentTontine.tontine.monnaie) {\r\n          this.currentCurrency = cur.id;\r\n        }\r\n      });\r\n    }, error => {\r\n      this.error.manageError(error);\r\n    });\r\n  }\r\n\r\n  openContribute(name: string, amount?: number, balance?: number) {\r\n    const params = { facture: this.currentFacture, items: this.myDebts, title: this.currentTontine.tontine.name };\r\n    this.debt.sendDebtsData(params);\r\n    this.modatCtrl\r\n      .create({\r\n        component: ContributionComponent,\r\n        componentProps: {\r\n          tontineName: name,\r\n          amountPay: amount,\r\n          balance: balance,\r\n          currency: this.currentFacture.device_name\r\n        }\r\n      })\r\n      .then(modalEl => {\r\n        modalEl.present();\r\n        modalEl.onDidDismiss().then((ans: any) => {\r\n          this.navcontroler.setDirection('root');\r\n          if (ans && ans.data === 'complete-all') {\r\n            this.currentTontine.tontine.administrator === 1 ?\r\n              this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', this.currentFacture.id, 'approved-detail']) :\r\n              this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', this.currentFacture.id, 'approved-detail-user']);\r\n          } else if (ans && ans.data === 'complete') {\r\n            this.currentTontine.tontine.administrator === 1 ?\r\n              this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', this.currentFacture.id, 'in-approval-detail']) :\r\n              this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', this.currentFacture.id, 'in-approval-detail-user']);\r\n          } else if (ans && ans.data === 'partial') {\r\n            this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', this.currentFacture.id, 'in-progress']);\r\n          } else {\r\n            this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', this.currentFacture.id, 'in-progress']);\r\n          }\r\n        })\r\n      });\r\n  }\r\n\r\n  // show the pin confirmation dilaog\r\n  confirmPin() {\r\n    this.saveBill(1);\r\n  }\r\n\r\n  // format the bill data\r\n  storageBillData() {\r\n    const billData = this.debt.getDebtsData();\r\n    this.totalPay = billData.billAmount;\r\n    this.totalDue = billData.dueAmount;\r\n    this.totalBill = billData.billAmount;\r\n    this.totalBalance = billData.balance;\r\n    this.myDebts = billData.itemsList;\r\n    this.itemsData = billData.items;\r\n    this.currentUser = this.userService.getUserData();\r\n    console.log(this.myDebts);\r\n  }\r\n\r\n  // Save a member bill \r\n  saveBill(index: number) {\r\n    if (this.currentCurrency) {\r\n      const data = {\r\n        reference_facture: this.reference,\r\n        device_id: this.currentCurrency,\r\n        montant_total_facture: this.totalPay,\r\n        liste_item: this.itemsData,\r\n        tontine_id: this.currentTontine.tontine.tontine_id\r\n      };\r\n\r\n      if (index === 0) {\r\n        this.translate.get('SAVING_TEXT').subscribe(trans => {\r\n          this.ui.presentLoading(trans);\r\n        });\r\n      } else {\r\n        this.translate.get('PAYMENT_PROCESS').subscribe(trans => {\r\n          this.ui.presentLoading(trans);\r\n        });\r\n      }\r\n\r\n      this.loadingPay = true;\r\n      this.debt.saveMemberBill(data).subscribe((reponse: any) => {\r\n        this.loadingPay = false;\r\n        this.ui.dismissLoading();\r\n        if (reponse && reponse.message === 'success') {\r\n          this.translate.get('DEBT_BILL_SAVE_MSG').subscribe(trans => {\r\n            this.ui.presentToast(trans);\r\n          });\r\n          if (index === 0) {\r\n            this.navcontroler.setDirection('root');\r\n            this.route.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts', 'in-progress-list']);\r\n          } else {\r\n            // construct object for make payment\r\n            this.currentFacture = reponse.facture;\r\n            this.openContribute(this.currentTontine.tontine.name, this.totalPay, this.totalBalance);\r\n          }\r\n        }\r\n      }, error => {\r\n        this.loadingPay = false;\r\n        if (error && error.error) {\r\n          if (error && error.error && error.error.user_not_found) {\r\n            this.loadingPay = true;\r\n            this.error.renewSession().then((data: any) => {\r\n              this.ui.dismissLoading();\r\n              if (data && data.result === \"OK\") {\r\n                this.saveBill(index);\r\n              } else {\r\n                this.loadingPay = false;\r\n              }\r\n            });\r\n          } else {\r\n            this.ui.dismissLoading();\r\n            this.tontineError.manageTontineError(error);\r\n          }\r\n\r\n        } else {\r\n          this.ui.dismissLoading();\r\n          this.error.manageError(error);\r\n        }\r\n      });\r\n    } else {\r\n      this.translate.get('TRY_AGAIN_MSG').subscribe(trans => {\r\n        this.ui.presentToast(trans);\r\n        this.getCurrency();\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\nimport { ContributionComponent } from '../../../../../shared/contribution/contribution.component';\nimport { InProgressPaiementPage } from './in-progress-paiement.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InProgressPaiementPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [\n    InProgressPaiementPage\n  ],\n  entryComponents: [\n    ContributionComponent\n  ]\n})\nexport class InProgressPaiementPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbi1wcm9ncmVzcy1wYWllbWVudC5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}