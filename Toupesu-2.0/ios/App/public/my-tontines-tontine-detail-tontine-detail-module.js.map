{"version":3,"sources":["./src/app/dashboard/my-tontines/tontine-detail/contribute-seance-caution/contribute-seance-caution.component.html","./src/app/dashboard/my-tontines/tontine-detail/contribute-seance-caution/contribute-seance-caution.component.scss","./src/app/dashboard/my-tontines/tontine-detail/contribute-seance/contribute-seance.component.html","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail-menu/tontine-detail-menu.component.html","./src/app/dashboard/my-tontines/tontine-detail/contribute/contribute.component.ts","./src/app/dashboard/my-tontines/tontine-detail/info-edit/info-edit.component.scss","./src/app/dashboard/my-tontines/tontine-detail/contribute/contribute.component.scss","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail.page.scss","./src/app/dashboard/my-tontines/tontine-detail/info-edit/info-edit.component.ts","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail.page.html","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail-menu/tontine-detail-menu.component.ts","./src/app/dashboard/my-tontines/tontine-detail/contribute-seance/contribute-seance.component.scss","./src/app/dashboard/my-tontines/tontine-detail/info-edit/info-edit.component.html","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail.page.ts","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail-routing.module.ts","./src/app/dashboard/my-tontines/tontine-detail/contribute/contribute.component.html","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail.module.ts","./src/app/dashboard/my-tontines/tontine-detail/contribute-seance/contribute-seance.component.ts","./src/app/dashboard/my-tontines/tontine-detail/tontine-detail-menu/tontine-detail-menu.component.scss","./src/app/dashboard/my-tontines/tontine-detail/contribute-seance-caution/contribute-seance-caution.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,8IAA+E,gCAAgC,uJAAuJ,+BAA+B,QAAQ,eAAe,qfAAqf,6BAA6B,4GAA4G,E;;;;;;;;;;;;ACAz8B;AAAe,6GAA8C,mJAAmJ,E;;;;;;;;;;;;ACAhN;AAAe,8IAA+E,gCAAgC,uJAAuJ,+BAA+B,QAAQ,eAAe,qeAAqe,6BAA6B,4GAA4G,E;;;;;;;;;;;;ACAz7B;AAAe,qOAAsK,uCAAuC,qIAAqI,qCAAqC,oIAAoI,sCAAsC,mIAAmI,kCAAkC,yKAAyK,+BAA+B,+IAA+I,6BAA6B,iIAAiI,mCAAmC,oJAAoJ,yCAAyC,4HAA4H,gCAAgC,2JAA2J,mCAAmC,qDAAqD,E;;;;;;;;;;;;;;;;;;;;;;;ACAhwD;AACG;AACS;IAOxD,mBAAmB,SAAnB,mBAAmB;IAO9B,YACU,SAA0B,EAC1B,KAAmB,EAC3B,MAAiB;QAFT,cAAS,GAAT,SAAS,CAAiB;QAC1B,UAAK,GAAL,KAAK,CAAc;QAGzB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,EAAE,GAAG,EAAE;YACzC,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACN,CAAC;IAEF,QAAQ,KAAI,CAAC;IAEb,eAAe;QACb,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;SACxC;IACH,CAAC;CAEF;;YAlCQ,8DAAe;YACf,kFAAY;YADK,wDAAS;;;0BAWhC,mDAAK;4BACL,mDAAK;;AAJK,mBAAmB;IAL/B,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,uFAA0C;;KAE3C,CAAC;GACW,mBAAmB,CA0B/B;AA1B+B;;;;;;;;;;;;;ACThC;AAAe,6GAA8C,+HAA+H,E;;;;;;;;;;;;ACA5L;AAAe,6GAA8C,+HAA+H,E;;;;;;;;;;;;ACA5L;AAAe,6GAA8C,+HAA+H,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAlI;AACU;AACnB;AACe;AACU;AACnB;AAEa;AACY;AACM;AACQ;AACpB;AACyB;AAC9B;AACP;IAajD,iBAAiB,SAAjB,iBAAiB;IA4B5B,YACU,EAAe,EACf,SAA0B,EAC1B,IAAY,EACZ,MAAoB,EACpB,OAAuB,EACvB,WAAqC,EACrC,YAAiC,EACjC,WAAqC,EACrC,QAA0B,EAC1B,KAAmB,EACnB,MAAuB,EACvB,EAAa,EACb,WAA+B,EAC/B,QAAyB;QAbzB,OAAE,GAAF,EAAE,CAAa;QACf,cAAS,GAAT,SAAS,CAAiB;QAC1B,SAAI,GAAJ,IAAI,CAAQ;QACZ,WAAM,GAAN,MAAM,CAAc;QACpB,YAAO,GAAP,OAAO,CAAgB;QACvB,gBAAW,GAAX,WAAW,CAA0B;QACrC,iBAAY,GAAZ,YAAY,CAAqB;QACjC,gBAAW,GAAX,WAAW,CAA0B;QACrC,aAAQ,GAAR,QAAQ,CAAkB;QAC1B,UAAK,GAAL,KAAK,CAAc;QACnB,WAAM,GAAN,MAAM,CAAiB;QACvB,OAAE,GAAF,EAAE,CAAW;QACb,gBAAW,GAAX,WAAW,CAAoB;QAC/B,aAAQ,GAAR,QAAQ,CAAiB;QApCnC,kBAAa,GAAkB,EAAE,CAAC;QAElC,oBAAe,GAAG,IAAI,IAAI,EAAE,CAAC;QAW7B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,kCAA6B,GAAY,KAAK,CAAC;QAC/C,sBAAiB,GAAW,CAAC,CAAC;QAC9B,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,2BAAsB,GAAQ,EAAE,CAAC;QAEjC,YAAO,GAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;QAmB5C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI,IAAI,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;QAC5D,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,qBAAqB,CAAC;QACrD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC;QACxD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,eAAe;IACf,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC/C,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACjD,CAAC;IAED,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC1C,CAAC;IAED,IAAI,gBAAgB;QAClB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACjD,CAAC;IAED,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC3D,CAAC;IAED,IAAI,gBAAgB;QAClB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;IAED,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACjD,CAAC;IAED,oBAAoB;IACpB,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,yBAAyB,EAAE,0BAA0B,EAAE,2BAA2B,CAAC,CAAC;aACpG,SAAS,CAAC,IAAI,CAAC,EAAE;YAChB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,yBAAyB,EAAE,KAAK,EAAE,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC;YAC/G,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,0BAA0B,EAAE,KAAK,EAAE,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC;YAClH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,2BAA2B,EAAE,KAAK,EAAE,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC;QACvH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iBAAiB;IACjB,WAAW;QACT,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC;YACjK,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,KAAK,CAAC,EAAE;YAC9J,OAAO,GAAG,IAAI,CAAC;SAChB;QACD,OAAO,OAAO;IAChB,CAAC;IAED,mBAAmB;IACnB,cAAc,CAAC,UAAU;QACvB,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,UAAU,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,CAAC,CAAC;eACxE,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,CAAC,CAAC;eAC3E,CAAC,IAAI,CAAC,aAAa,EACvB;YACA,IAAI,GAAG,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,oBAAoB;IACpB,mBAAmB;QACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,wBAAwB;YAC5D,iBAAiB,EAAE,oBAAoB,EAAE,qBAAqB,EAAE,mBAAmB;YACjF,sBAAsB,EAAE,sBAAsB,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAEnE,IAAI,CAAC,kBAAkB,GAAG;gBACxB,IAAI,EAAE;oBACJ,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,eAAe,EAAE;iBACrD;gBACD,WAAW,EAAE;oBACX,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,sBAAsB,EAAE;iBAC5D;gBACD,IAAI,EAAE;oBACJ,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,eAAe,EAAE;iBACrD;gBACD,OAAO,EAAE;oBACP,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,kBAAkB,EAAE;iBACxD;gBACD,QAAQ,EAAE;oBACR,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,mBAAmB,EAAE;iBACzD;gBACD,MAAM,EAAE;oBACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,iBAAiB,EAAE;iBACvD;gBACD,SAAS,EAAE;oBACT,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,oBAAoB,EAAE;iBAC1D;gBACD,SAAS,EAAE;oBACT,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,oBAAoB,EAAE;iBAC1D;aACF,CAAC;QACJ,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,QAAa;QAE5B,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YACzB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;SAChE;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,QAAQ,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;SAClI;QAED,MAAM,OAAO,GAAW,QAAQ,IAAI,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;QACvF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAChC,UAAU,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC;YACxE,MAAM,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;YAC5D,oBAAoB,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,WAAW,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,WAAW,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,WAAW,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,SAAS,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;YACtE,WAAW,EAAE,CAAC,EAAE,CAAC;YACjB,eAAe,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,2BAA2B,CAAC;YAChH,gBAAgB,EAAE,CAAC,EAAE,CAAC;YACtB,UAAU,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC;YACxE,cAAc,EAAE,CAAC,EAAE,CAAC;YACpB,WAAW,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YACrF,OAAO,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACxD,YAAY,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACzG,WAAW,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC;YAC3E,mBAAmB,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;YAC/E,wBAAwB,EAAE,CAAC,EAAE,KAAK,EAAE,QAAQ,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE;gBAC3I,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1G,QAAQ,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC;YACpH,aAAa,EAAE,CAAC;oBACd,KAAK,EAAE,QAAQ,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;iBAC7J,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC7C,SAAS,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACtK,YAAY,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACtE,YAAY,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YAC9D,UAAU,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC;YAC1E,YAAY,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC;YACpF,cAAc,EAAE,CAAC,QAAQ,IAAI,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7H,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAEhG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,oBAAoB,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAEnG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;IAED,kBAAkB;IAClB,aAAa,CAAC,QAAgB;QAC5B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAED,kBAAkB;IAClB,SAAS,CAAC,iBAAsB;QAC9B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;YACjB,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,GAAG,EAAE;YACd,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC,OAAO,CAAC;YAC9D,MAAM,WAAW,GAAG,QAAQ,IAAI,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YACtF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC9D,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAChC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,QAAQ,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE;oBAC9C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;iBAC9F;YACH,CAAC,CAAC,CAAC;QACL,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,2BAA2B;IAC3B,QAAQ;QACN,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,YAAiB,EAAE,EAAE;YAC5D,MAAM,iBAAiB,GAAG,EAAE,CAAC;YAC7B,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;gBACnC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,kBAAkB,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBACnE,IAAI,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,QAAQ,CAAC,EAAE,KAAK,CAAC,EAAE;wBACzG,iBAAiB,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,kBAAkB,QAAQ,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;qBAChG;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;QACpC,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qBAAqB;IACrB,WAAW,CAAC,MAAgB;QAC1B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;YACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,GAAG,EAAE;YACd,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC,OAAO,CAAC;YAC9D,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACrJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9G,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,4BAA4B;IAC5B,YAAY,CAAC,SAAkB;QAC7B,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,SAAc,EAAE,EAAE;YAC7D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;YAC9D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B;IAC7B,SAAS,CAAC,IAAS;QACjB,MAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;QAC/B,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,SAAS,IAAI,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAChF,CAAC;IAED,sCAAsC;IACtC,YAAY,CAAC,KAAK,EAAE,UAAU;QAC5B,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,KAAK,KAAK,CAAC,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACnD,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACV,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;YACvC,IAAI,CAAC,GAAG,WAAW,CAAC,OAAO,EAAE,CAAC;YAC9B,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;YACjD,IAAI,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;gBAC9B,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACzD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,GAAG,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,YAAY,CAAC;YAChI,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,KAAK,KAAK,CAAC,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACzD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;YAC1F,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,kBAAkB,CAAC,IAAS,EAAE,WAAgB;QAC5C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACrB,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC;QAC3E,IAAI,WAAW,GAAG,SAAS,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QACzE,IAAI,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QAC5E,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,6BAA6B,GAAG,KAAK,CAAC;QAC3C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAEnD,IAAI,WAAW,KAAK,OAAO,EAAE;YAE3B,IAAI,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YAC7H,+DAA+D;YAC/D,eAAe,GAAG,eAAe,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,EAAC,CAAC,CAAC,CAAC;YACxE,IAAI,gBAAgB,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;YAChD,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;YAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC/C,IAAI,eAAe,CAAC,CAAC,CAAC,KAAK,gBAAgB,EAAE;oBAC3C,IAAI,CAAC,iBAAiB,IAAI,CAAC,CAAC;oBAC5B,MAAM;iBACP;aACF;YACD,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,oBAAoB,EAAE,oBAAoB;gBAChF,qBAAqB,EAAE,qBAAqB,EAAE,qBAAqB,EAAE,qBAAqB,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBAE5G,IAAI,iBAAiB;gBACrB,QAAQ,IAAI,CAAC,iBAAiB,EAAE;oBAC9B,KAAK,CAAC;wBACJ,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBAC7C,MAAM;oBACR,KAAK,CAAC;wBACJ,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBAC7C,MAAM;oBACR,KAAK,CAAC;wBACJ,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBAC7C,MAAM;oBACR;wBACE,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBAC7C,MAAM;iBACT;gBAED,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBACnE,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;oBACnG,IAAI,CAAC,qBAAqB,IAAI,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC5D,IAAI,CAAC,sBAAsB,GAAG,iBAAiB,GAAG,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACpF,CAAC,CAAC,CAAC;YAEL,CAAC,CAAC,CAAC;YAEL,8DAA8D;YAC9D,IAAI,kBAAkB,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,oBAAoB,CAAC;YACtE,IAAI,CAAC,GAAG,CAAC,CAAC;YAEV,IAAI,kBAAkB,KAAK,CAAC,EAAE;gBAC5B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACnD,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjC,IAAI,CAAC,GAAG,WAAW,CAAC,OAAO,EAAE,CAAC;gBAC9B,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;gBACjD,IAAI,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;oBAC9B,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;iBACxB;gBACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBACzD,IAAI,CAAC,oBAAoB,GAAG,EAAE,GAAG,IAAI,CAAC,kBAAkB,GAAG,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,YAAY,CAAC;gBACrI,CAAC,CAAC,CAAC;aAEJ;YAED,IAAI,kBAAkB,KAAK,CAAC,EAAE;gBAC5B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACnD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBACzD,IAAI,CAAC,oBAAoB,GAAG,EAAE,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;gBAC/F,CAAC,CAAC,CAAC;aACJ;YAED,8DAA8D;SAC/D;QACD,IAAI,WAAW,KAAK,MAAM,EAAE;YAC1B,IAAI,CAAC,6BAA6B,GAAG,KAAK,CAAC;YAC3C,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,mBAAmB,EAAE,mBAAmB,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBAClG,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBACnE,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC;wBAC1F,IAAI,CAAC,iBAAiB,GAAG,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBAC5D,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,WAAW,KAAK,KAAK,EAAE;YACzB,IAAI,CAAC,6BAA6B,GAAG,KAAK,CAAC;YAC3C,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;SAChC;IACH,CAAC;IAED,eAAe;IACf,YAAY;QACV,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC;IAC7I,CAAC;IAED,kBAAkB;IAClB,UAAU;QACR,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAChC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,QAAQ,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE;gBAC9C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC9D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAsB;IACtB,cAAc;QACZ,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YAC1B,IAAI,KAAK,CAAC,YAAY,KAAK,cAAc,EAAE;gBACzC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACnE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACjE,IAAI,CAAC,gBAAgB,GAAG,GAAG,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC;aAClE;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B;IAC7B,iBAAiB;QACf,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC;QAC1D,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAClC,IAAI,MAAM,CAAC,KAAK,KAAK,aAAa,EAAE;gBAClC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aAC/D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0BAA0B;IAC1B,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAClD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB;IACnB,cAAc,CAAC,QAAa;QAC1B,OAAO,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAED,uBAAuB;IACvB,cAAc;QACZ,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,WAAW;eAChB,IAAI,CAAC,YAAY,CAAC,OAAO;eACzB,IAAI,CAAC,OAAO;eACZ,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,KAAK,OAAO;mBAC9C,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,oBAAoB,KAAK,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,oBAAoB,KAAK,CAAC,CAAC,CAAC;eAC7G,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAChD;YACA,IAAI,GAAG,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,qBAAqB;IACrB,wBAAwB;QACtB,sEAAsE;QACtE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;QACpH,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QACrC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;QACpH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QAExE,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAEtD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC5C,CAAC,OAAY,EAAE,EAAE;YACf,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAC7D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBACnC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;aAC/B;QACH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE;gBAExB,IAAI,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;oBACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;wBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;4BAChC,IAAI,CAAC,wBAAwB,EAAE,CAAC;yBACjC;6BAAM;4BACL,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;yBACtB;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;iBAC7C;aAEF;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU;QACR,MAAM,KAAK,GAAG;YACZ,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU;SACjD,CAAC;QACF,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAED,uBAAuB;IACvB,mBAAmB,CAAC,KAAK;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,KAAK,CAAC,CAAC,SAAS,CAC/D,CAAC,OAAY,EAAE,EAAE;YACf,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAC7D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE;gBACxB,IAAI,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;oBACjC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;wBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;4BAChC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;yBACjC;oBACH,CAAC,CAAC,CAAC;iBACJ;gBAED,IAAI,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;oBACjC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;wBAC3D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBAC9B,CAAC,CAAC,CAAC;iBACJ;aACF;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACP,CAAC;CAEF;;YA1kBQ,0DAAW;YACX,8DAAe;YAFJ,oDAAM;YAajB,mFAAY;YAVZ,wEAAc;YAMd,+FAAwB;YAGxB,iHAAmB;YAFnB,4GAAwB;YALxB,oEAAgB;YAEhB,iFAAY;YAHZ,uFAAe;YAUf,4EAAS;YANT,8FAAkB;YAGlB,wFAAe;;AAgBX,iBAAiB;IAL7B,+DAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,sFAAyC;;KAE1C,CAAC;GACW,iBAAiB,CAgjB7B;AAhjB6B;;;;;;;;;;;;;AC3B9B;AAAe,wdAAyZ,gEAAgE,qgBAAqgB,mCAAmC,4fAA4f,sCAAsC,8BAA8B,4FAA4F,4BAA4B,oBAAoB,yRAAyR,0EAA0E,+BAA+B,gIAAgI,WAAW,oBAAoB,wDAAwD,iDAAiD,mxBAAmxB,0BAA0B,GAAG,4JAA4J,qFAAqF,iCAAiC,iQAAiQ,wBAAwB,GAAG,4LAA4L,0OAA0O,mCAAmC,aAAa,uCAAuC,mGAAmG,sCAAsC,aAAa,oBAAoB,0JAA0J,0CAA0C,aAAa,yCAAyC,mGAAmG,qCAAqC,aAAa,6CAA6C,wKAAwK,gDAAgD,mGAAmG,sCAAsC,YAAY,qEAAqE,4QAA4Q,+BAA+B,YAAY,iIAAiI,GAAG,oBAAoB,mGAAmG,8BAA8B,YAAY,0GAA0G,GAAG,oBAAoB,8jBAA8jB,uCAAuC,kCAAkC,oBAAoB,2NAA2N,yJAAyJ,uCAAuC,kCAAkC,4EAA4E,0BAA0B,gCAAgC,kCAAkC,wBAAwB,GAAG,2MAA2M,+BAA+B,6FAA6F,GAAG,+GAA+G,sQAAsQ,0BAA0B,8gBAA8gB,sCAAsC,oNAAoN,0BAA0B,8SAA8S,uCAAuC,oTAAoT,uCAAuC,sRAAsR,mCAAmC,qOAAqO,4BAA4B,oOAAoO,4BAA4B,yOAAyO,iCAAiC,8SAA8S,4CAA4C,qKAAqK,wBAAwB,yQAAyQ,8BAA8B,6SAA6S,+BAA+B,wTAAwT,mCAAmC,qOAAqO,oCAAoC,gqBAAgqB,gCAAgC,gOAAgO,yCAAyC,yQAAyQ,kCAAkC,GAAG,6DAA6D,qCAAqC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAr9a;AAC4B;AACrC;AACuB;AACT;AACa;AAC+B;AACrC;AACO;AACC;IAOzD,0BAA0B,SAA1B,0BAA0B;IAMrC,YACS,iBAAoC,EACnC,QAAkB,EAClB,OAAuB,EACvB,KAAmB,EACnB,EAAa,EACb,KAAmB,EACnB,YAAiC,EACjC,MAAc,EACd,SAA2B,EAC3B,eAAgC,EAChC,MAAqB;QAVtB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACnC,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAgB;QACvB,UAAK,GAAL,KAAK,CAAc;QACnB,OAAE,GAAF,EAAE,CAAW;QACb,UAAK,GAAL,KAAK,CAAc;QACnB,iBAAY,GAAZ,YAAY,CAAqB;QACjC,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAkB;QAC3B,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAe;QAE7B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QAC3D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC;QAClD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC;QAChE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,QAAQ,KAAK,CAAC;IAEd,iBAAiB;IACjB,sBAAsB;QACpB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;IACnC,CAAC;IAED,gCAAgC;IAChC,cAAc;QACZ,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC;IAC1G,CAAC;IAED,8BAA8B;IAC9B,kBAAkB;QAChB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC;IAC7G,CAAC;IAED,2BAA2B;IAC3B,iBAAiB;QACf,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,4BAA4B,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,iBAAiB;IACjB,eAAe;QACb,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;IACpD,CAAC;IAED,eAAe;IACf,IAAI;QACF,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;IAC3G,CAAC;IAGD,sBAAsB;IACtB,UAAU;QACR,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC;IACjD,CAAC;IAED,6BAA6B;IAC7B,eAAe;QACb,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;IAC3G,CAAC;IAED,iBAAiB;IACjB,YAAY;QACV,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC,CAAC;IAC1D,CAAC;IAGD,6BAA6B;IAC7B,SAAS;QACP,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC/B,IAAI,GAAG,wBAAwB,CAAC;SACjC;aAAM;YACL,IAAI,GAAG,0BAA0B,CAAC;SACnC;QACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,oBAAoB,EAAE,kBAAkB,EAAE,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAChG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAC9C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,gBAAgB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,eAAe,SAAS,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IACxM,CAAC;IAED,kBAAkB;IAClB,YAAY;QACV,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC;YACnJ,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,KAAK,CAAC,EAAE;YAChJ,OAAO,GAAG,IAAI,CAAC;SAChB;QACD,OAAO,OAAO;IAChB,CAAC;IAED,8BAA8B;IAC9B,UAAU;QACR,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,KAAK,CAAC,EAAE;YACjH,OAAO,GAAG,IAAI,CAAC;SAChB;QACD,OAAO,OAAO;IAChB,CAAC;IAED,qBAAqB;IACrB,cAAc;QACZ,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAE/B,CAAC;IAED,sCAAsC;IACtC,qBAAqB;QACnB,OAAO,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,uBAAuB,KAAK,CAAC,CAAC;IAC1F,CAAC;IAEF,8BAA8B;IAC9B,MAAM;QACL,OAAO,IAAI,CAAC,cAAc,IAAK,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,CAAC;IACjF,CAAC;IAEA,sBAAsB;IACtB,qBAAqB;QACnB,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,mBAAmB,EAAE,aAAa,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;aACnI,SAAS,CAAC,KAAK,CAAC,EAAE;YACjB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YACrC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACvC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YACjC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC9B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kBAAkB;IACZ,cAAc,CAAC,WAAqB;;YAExC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,GAAG,WAAW,CAAC,CAAC,CAAC,EAAE;gBAC3B,OAAO,EAAE,GAAG,WAAW,CAAC,CAAC,CAAC,EAAE;gBAC5B,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,GAAG,WAAW,CAAC,CAAC,CAAC,EAAE;wBACzB,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,GAAG,EAAE;wBAEd,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,GAAG,WAAW,CAAC,CAAC,CAAC,EAAE;wBACzB,OAAO,EAAE,GAAG,EAAE;4BACZ,8BAA8B;4BAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;wBAChC,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,0BAA0B;IAC1B,sBAAsB;QACpB,MAAM,IAAI,GAAG;YACX,aAAa,EACX,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;SACxE,CAAC;QAEF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC3D,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YAC3D,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,qBAAqB,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAC3G,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;gBAClD,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;aAClD;YACD,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;QAE3B,CAAC,EAAE,KAAK,CAAC,EAAE;YAGT,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,OAAO,EAAE;gBAC3D,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;oBACtD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;wBAC1C,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;wBACzB,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,EAAE;4BAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;yBAC/B;oBACH,CAAC,CAAC,CAAC;iBAEJ;qBAAM;oBACL,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;oBACzB,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;iBAC7C;aACF;iBAAM;gBACL,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;CAEF;;YAzOQ,gEAAiB;YAAE,uDAAQ;YAE3B,wEAAc;YAKd,mFAAY;YADZ,4EAAS;YAFT,iFAAY;YACZ,gHAAmB;YAJnB,sDAAM;YAEN,oEAAgB;YAHa,8DAAe;YAQ5C,oFAAa;;AAOT,0BAA0B;IALtC,+DAAS,CAAC;QACT,QAAQ,EAAE,yBAAyB;QACnC,gGAAmD;;KAEpD,CAAC;GACW,0BAA0B,CA0NtC;AA1NsC;;;;;;;;;;;;;AChBvC;AAAe,6GAA8C,uIAAuI,E;;;;;;;;;;;;ACApM;AAAe,8IAA+E,yCAAyC,oPAAoP,oCAAoC,ygBAAygB,sBAAsB,wOAAwO,kCAAkC,qhBAAqhB,sBAAsB,kNAAkN,sCAAsC,6MAA6M,cAAc,ieAAie,sBAAsB,kNAAkN,oCAAoC,8MAA8M,uBAAuB,6eAA6e,sBAAsB,oPAAoP,sCAAsC,kPAAkP,qGAAqG,8aAA8a,sBAAsB,mOAAmO,sCAAsC,2FAA2F,0OAA0O,gBAAgB,qfAAqf,sBAAsB,kNAAkN,4BAA4B,iHAAiH,2gDAA2gD,mCAAmC,wSAAwS,uCAAuC,m8BAAm8B,oCAAoC,qmBAAqmB,gCAAgC,0LAA0L,+BAA+B,4cAA4c,mDAAmD,gYAAgY,8BAA8B,iLAAiL,gBAAgB,0fAA0f,2BAA2B,yPAAyP,6BAA6B,2NAA2N,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA54X;AACmC;AACb;AACyB;AAC7B;AACP;AACJ;AACW;AACb;AACgB;AACG;AACM;AACG;AACS;AACO;AACrC;AACO;AACP;AACO;AACH;AACiB;IAOtE,iBAAiB,+BAAjB,iBAAiB;IAgC5B,YACU,WAAwB,EACxB,eAAgC,EAChC,aAAmC,EACnC,MAAc,EACd,OAAoB,EACpB,SAA0B,EAC1B,iBAAoC,EACpC,eAAgC,EAChC,KAAmB,EACnB,SAA2B,EAC3B,OAAuB,EACvB,YAAsC,EACtC,YAAiC,EACjC,WAA2B,EAC3B,KAAmB,EACnB,YAAiC,EACjC,IAAiB,EACjB,EAAa,EACb,YAAiC;QAlBjC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAsB;QACnC,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAa;QACpB,cAAS,GAAT,SAAS,CAAiB;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAChC,UAAK,GAAL,KAAK,CAAc;QACnB,cAAS,GAAT,SAAS,CAAkB;QAC3B,YAAO,GAAP,OAAO,CAAgB;QACvB,iBAAY,GAAZ,YAAY,CAA0B;QACtC,iBAAY,GAAZ,YAAY,CAAqB;QACjC,gBAAW,GAAX,WAAW,CAAgB;QAC3B,UAAK,GAAL,KAAK,CAAc;QACnB,iBAAY,GAAZ,YAAY,CAAqB;QACjC,SAAI,GAAJ,IAAI,CAAa;QACjB,OAAE,GAAF,EAAE,CAAW;QACb,iBAAY,GAAZ,YAAY,CAAqB;QAEzC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC;QAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;QAC3C,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACzD,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC,eAAe,CAAC;QACjD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,mBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,EAAE;YACzC,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;QACpC,0CAA0C;QAC1C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAID,6BAA6B;IAC7B,uBAAuB,CAAC,KAAW;QACjC,MAAM,KAAK,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;QACrE,IAAI,CAAC,OAAO,CAAC,4BAA4B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YAC1E,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC;aACjC;QACH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;gBACtD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;oBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;wBAChC,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;qBACrC;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAsB;IACtB,aAAa,CAAC,KAAW;QACvB,6BAA6B;QAC7B,MAAM,KAAK,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;QACrE,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YACpE,8BAA8B;YAC9B,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,YAAY,CAAC;gBAC3C,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;gBAE3C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;gBAC7G,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,KAAK,CAAC,UAAU,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,EAAE,MAAM,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;aACnH;YAED,IAAI,KAAK,EAAE;gBACT,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;aACzB;QAEH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,+BAA+B;YAC/B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,KAAK,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;gBACtE,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC3D,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;YAC7D,CAAC,CAAC,CAAC;YACH,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,OAAO,EAAE;gBAC3D,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;oBAC9B,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;wBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;4BAChC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;yBAC3B;oBACH,CAAC,CAAC,CAAC;iBACJ;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAkC;IAClC,wBAAwB,CAAC,KAAW;QAClC,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACzD,IAAI,WAAW,IAAI,WAAW,CAAC,OAAO,EAAE;YACtC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;gBACvF,IAAI,OAAO,CAAC,aAAa,IAAI,OAAO,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7D,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;oBACzD,IAAI,WAAW,IAAI,WAAW,CAAC,OAAO,EAAE;wBACtC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;qBACnC;iBACF;gBACD,0BAA0B;gBAC1B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC5B,CAAC,EAAE,KAAK,CAAC,EAAE;gBACT,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE;oBACjD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;wBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;4BAChC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;yBACtC;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;iBAC/B;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,KAAK,EAAE;gBACT,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;aACzB;SACF;IACH,CAAC;IAED,wBAAwB;IACxB,YAAY,CAAC,IAAS;QACpB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAClE,CAAC;IAED,6BAA6B;IAC7B,eAAe;QACb,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YACrD,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,OAAO,IAAI,OAAO,CAAC,aAAa,EAAE;oBACpC,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;oBACnE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;iBAC5B;aACF;QACH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;gBACtD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;oBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;wBAChC,IAAI,CAAC,eAAe,EAAE,CAAC;qBACxB;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB;IACnB,SAAS,CAAC,KAAK;QACb,mBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;QACrC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,+CAA+C;IAC/C,2BAA2B,CAAC,UAAe,EAAE,WAAgB;QAC3D,OAAO,IAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC,UAAU,EAAE,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC9F,CAAC;IAED,4BAA4B;IAC5B,mBAAmB,CAAC,UAAU;QAC5B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC,yBAAyB,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACjG,OAAO,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzE,CAAC;IAID,sCAAsC;IACtC,2BAA2B,CAAC,KAAU;QACpC,IAAI,CAAC,SAAS;aACX,MAAM,CAAC;YACN,SAAS,EAAE,oFAAmB;YAC9B,cAAc,EAAE;gBACd,WAAW,EAAE,KAAK,CAAC,KAAK;gBACxB,aAAa,EAAE,KAAK,CAAC,OAAO;gBAC5B,IAAI,EAAE,KAAK;aACZ;SACF,CAAC;aACD,IAAI,CAAC,OAAO,CAAC,EAAE;YACd,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC/B,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC5B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;YAErC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IACjC,4BAA4B,CAAC,KAAU;QACrC,IAAI,CAAC,SAAS;aACX,MAAM,CAAC;YACN,SAAS,EAAE,yGAAyB;YACpC,cAAc,EAAE;gBACd,WAAW,EAAE,KAAK,CAAC,KAAK;gBACxB,aAAa,EAAE,KAAK,CAAC,OAAO;gBAC5B,IAAI,EAAE,KAAK;aACZ;SACF,CAAC;aACD,IAAI,CAAC,OAAO,CAAC,EAAE;YACd,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBAClC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC5B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mBAAmB;IACnB,cAAc,CAAC,MAAW,EAAE,MAAW;QACrC,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACzD,IAAI,CAAC,YAAY,CAAC,yBAAyB,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;YAEtI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAErB,MAAM,QAAQ,GAAG,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;YAC/I,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5B,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;YAC9E,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;YAElF,mBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAEzE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAC7E,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,OAAO,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,EAAE;gBAC5B,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBACzE,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC;wBAC/K,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAClF,CAAC,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC;qBACpG;gBACH,CAAC,CAAC,CAAC;gBACH,CAAC,EAAE,CAAC;aACL;QAEH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uBAAuB;IACvB,cAAc,CAAC,IAAI;QACjB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,SAAS,GAAG;gBACf,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI;gBACtC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW;gBACpD,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,cAAc;gBAChD,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,gBAAgB;gBAC9D,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO;gBAC5C,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW;gBACpD,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO;gBAC7C,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS;gBACnD,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW;gBAClD,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,eAAe;gBAC1D,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU;gBACtG,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,uBAAuB,IAAI,EAAE;gBACrE,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,sBAAsB;gBAChE,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS;gBAClD,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,2CAA2C;gBACxF,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,+CAA+C,KAAK,aAAa,CAAC,CAAC,CAAC,GAAG;oBACtH,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,+CAA+C;gBAC/E,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,2CAA2C;gBACxF,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8CAA8C,KAAK,aAAa,CAAC,CAAC,CAAC,GAAG;oBACrH,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8CAA8C;gBAC9E,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,0BAA0B;gBACpE,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8BAA8B,KAAK,aAAa,CAAC,CAAC,CAAC,GAAG;oBAClG,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8BAA8B;gBAC9D,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,gBAAgB;gBACvD,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,oBAAoB;gBAC/D,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,eAAe;gBACpD,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,iBAAiB;gBAClE,iBAAiB,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,eAAe;aAC/D,CAAC;YACF,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;YACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC;YAClD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;YAC/C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;YAC3C,IAAI,CAAC,GAAG,CAAC,CAAC;YAEV,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACzC,IAAI,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,EAAE,CAAC,EAAE;oBAC/E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC9B,CAAC,EAAE,CAAC;iBACL;YACH,CAAC,CAAC,CAAC;SAEJ;IACH,CAAC;IAED,wBAAwB;IACxB,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC1B,uBAAuB;QACvB,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,EAAE;YAC1G,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;gBACjC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;aAC9D;SACF;IACH,CAAC;IAED,2BAA2B;IAC3B,aAAa,CAAC,SAAS;QACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC;IAC5E,CAAC;IAED,8BAA8B;IAC9B,cAAc,CAAC,UAAe,EAAE,SAAS;QACvC,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;IACjE,CAAC;IAED,kBAAkB,CAAC,OAAe;QAChC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC5C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC/B,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED,cAAc,CAAC,UAAkB;QAC/B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC/C,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,kBAAkB,CAAC;IACjC,CAAC;IAED,kBAAkB,CAAC,YAAoB;QACrC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACjD,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QACpC,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,oBAAoB,CAAC;IACnC,CAAC;IAED,oBAAoB;IACpB,eAAe;QACb,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YACvD,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtD,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC;aACnC;QACH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,CAAC,SAAS;aACX,MAAM,CAAC;YACN,SAAS,EAAE,gFAAiB;SAC7B,CAAC;aACD,IAAI,CAAC,OAAO,CAAC,EAAE;YACd,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC/B,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;gBACpC,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,YAAY,EAAE,CAAC;gBACtB,CAAC,EAAE,IAAI,CAAC,CAAC;YAEX,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEK,eAAe,CAAC,EAAO;;YAC3B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,SAAS,EAAE,6GAA0B;gBACrC,KAAK,EAAE,EAAE;aACV,CAAC,CAAC;YACH,OAAO,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QACjC,CAAC;KAAA;IAGD,qCAAqC;IAC/B,oBAAoB,CAAC,YAAsB,EAAE,GAAQ;;YACzD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;gBAC5B,OAAO,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;gBAC7B,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;wBAC1B,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;wBAC1C,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;wBAC1B,OAAO,EAAE,GAAG,EAAE;4BAEZ,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;wBACzC,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,mCAAmC;IACnC,UAAU;QACR,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;QACjD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACzD,IAAI,WAAW,EAAE;YACf,IAAI,WAAW,CAAC,OAAO,CAAC,uBAAuB,KAAK,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,EAAE;gBAEjG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;aAClG;iBAAM;gBACL,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;oBACnD,uCAAuC;oBACvC,MAAM,gBAAgB,GAAG,EAAE,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,2BAA2B,EAAE,yBAAyB,EAAE,gBAAgB,EAAE,cAAc,CAAC,EACzG;wBACA,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC;wBAC5E,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC;qBAC3E,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;wBACnB,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;wBACvD,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;wBACrD,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;wBAC5C,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;wBAC1C,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;oBAChE,CAAC,CAAC,CAAC;iBAEN;qBAAM;oBACL,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;iBACrD;aACF;SACF;IACH,CAAC;IAED,sCAAsC;IACtC,gBAAgB,CAAC,KAAW;QAC1B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QAC5D,MAAM,YAAY,GAAG,cAAc,CAAC,aAAa,CAAC;QAClD,MAAM,aAAa,GAAG,cAAc,CAAC,eAAe,CAAC;QACrD,MAAM,KAAK,GAAG;YACZ,UAAU,EAAE,cAAc,CAAC,OAAO,CAAC,UAAU;SAC9C,CAAC;QACF,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YAC1E,IAAI,OAAO,IAAI,OAAO,CAAC,aAAa,IAAI,OAAO,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBAExE,4BAA4B;gBAC5B,MAAM,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;oBACtD,OAAO,YAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,YAAY,CAAC,EAAE,CAAC;gBAC5D,CAAC,CAAC,CAAC;gBAEH,mCAAmC;gBACnC,MAAM,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,GAAG,OAAO,IAAI,CAAC,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;gBAChJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBAEzG,yCAAyC;gBACzC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;gBAC1B,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC5B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,aAAa,IAAI,CAAC,aAAa,CAAC,EAAE,KAAK,KAAK,CAAC,SAAS,CAAC,EAAE;wBACpH,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;qBAClC;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,IAAI,KAAK,EAAE;gBACT,UAAU,CAAC,GAAG,EAAE;oBACd,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC,EAAE,GAAG,CAAC,CAAC;aACT;YACD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QAErC,CAAC,EAAE,KAAK,CAAC,EAAE;YAET,IAAI,KAAK,EAAE;gBACT,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;aACzB;YACD,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;gBACtD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;oBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;wBAChC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;qBAC9B;yBAAM;wBACL,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;qBACpC;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;gBACnC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAsC;IACtC,iBAAiB,CAAC,GAAQ,EAAE,IAAa;QACvC,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACzD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;QAC5C,IAAI,WAAW,EAAE;YACf,MAAM,WAAW,GAAG,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjH,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;YAEvD,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC;YACpD,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC,CAAC;SAEtH;IACH,CAAC;IAED,iCAAiC;IACjC,uBAAuB,CAAC,GAAQ,EAAE,WAAgB,EAAE,IAAS;QAC3D,MAAM,WAAW,GAAG;YAClB,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;YAC/B,WAAW,EAAE,QAAQ;YACrB,YAAY,EAAE,IAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC;YAC/G,SAAS,EAAE,WAAW,CAAC,eAAe,CAAC,EAAE;YACzC,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,OAAO;YACxC,OAAO,EAAE,WAAW,CAAC,OAAO,CAAC,SAAS;YACtC,mBAAmB,EAAE,CAAC;YACtB,iBAAiB,EAAE,SAAS;YAC5B,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC;YACpF,GAAG,EAAE,GAAG;SACT,CAAC;QACF,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,kCAAkC;IAClC,wBAAwB,CAAC,GAAQ,EAAE,WAAgB,EAAE,IAAS,EAAE,OAAY;QAC1E,MAAM,WAAW,GAAG;YAClB,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;YAC/B,WAAW,EAAE,QAAQ;YACrB,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,6BAA6B,CAAC,OAAO,CAAC;YACtE,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS;YAC/B,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,OAAO;YACxC,OAAO,EAAE,WAAW,CAAC,OAAO,CAAC,SAAS;YACtC,mBAAmB,EAAE,CAAC;YACtB,iBAAiB,EAAE,SAAS;YAC5B,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC;YACpF,GAAG,EAAE,GAAG;SACT,CAAC;QACF,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,mCAAmC;IACnC,wBAAwB;QACtB,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,IAAI,CAAC,aAAa;eACjB,IAAI,CAAC,cAAc;eACnB,IAAI,CAAC,cAAc,CAAC,OAAO;eAC3B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC;eACxC,IAAI,CAAC,gBAAgB;eACrB,IAAI,CAAC,cAAc;eACnB,IAAI,CAAC,sBAAsB,EAC9B;YACA,IAAI,GAAG,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAGD,kBAAkB;IAClB,cAAc,CAAC,cAAmB;QAChC,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,cAAc;eACnB,IAAI,CAAC,gBAAgB;eACrB,IAAI,CAAC,sBAAsB;eAC3B,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;eAC7B,IAAI,CAAC,aAAa,GAAG,CAAC;eACtB,CAAC,cAAc,CAAC,eAAe,IAAI,cAAc,CAAC,eAAe,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,EAC1H;YACA,IAAI,GAAG,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,uBAAuB;IACvB,OAAO;QACL,OAAO,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,KAAK,CAAC,CAAC;IAC/G,CAAC;IAED,cAAc;QACZ,OAAO,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,uBAAuB,KAAK,CAAC,CAAC;IACzH,CAAC;IAED,0BAA0B;IAC1B,KAAK;QACH,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,CAAC;IACrD,CAAC;IAED,2BAA2B;IAC3B,MAAM;QACJ,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,CAAC;IACrD,CAAC;IAED,2BAA2B;IAC3B,YAAY;QACV,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,CAAC;IACrD,CAAC;IAED,gCAAgC;IAChC,YAAY;QACV,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACzD,IAAI,WAAW,IAAI,WAAW,CAAC,OAAO,IAAI,WAAW,CAAC,aAAa,EAAE;YACnE,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC1F;IACH,CAAC;IAED,oCAAoC;IACpC,mBAAmB,CAAC,WAAgB;QAClC,OAAO,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;IAC1D,CAAC;IAED,qCAAqC;IACrC,kBAAkB,CAAC,WAAgB,EAAE,OAAY,EAAE,MAAW;QAC5D,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE;YACzC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;SACtC;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAC9B;IACH,CAAC;IAED,+BAA+B;IAC/B,QAAQ,CAAC,WAAgB;QACvB,OAAO,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;IACxD,CAAC;IAED,uBAAuB;IACvB,cAAc,CAAC,OAAY,EAAE,MAAW;QACtC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,6BAA6B,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACnE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;gBACtC,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,MAAW,EAAE,EAAE,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,KAAK,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC;gBAClH,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;gBACxD,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5H,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACjC;QACH,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,OAAO,EAAE;gBAC3D,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;oBAC9B,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;wBAC9C,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,IAAI,EAAE;4BACtC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;yBACtC;6BAAM;4BACL,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;yBAC9B;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC;iBAC5C;aACF;iBAAM;gBACL,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB;IACjB,UAAU,CAAC,cAAmB,EAAE,MAAc;QAC5C,MAAM,KAAK,GAAG;YACZ,QAAQ,EAAE,cAAc,CAAC,aAAa,CAAC,EAAE;YACzC,MAAM,EAAE,IAAI,CAAC,aAAa;SAC3B,CAAC;QAEF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAClD,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,OAAY,EAAE,EAAE;YAEnE,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAC7D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAC1G;YACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;QAC3B,CAAC,EAAE,KAAK,CAAC,EAAE;YACT,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAExB,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,OAAO,EAAE;gBAC3D,IAAI,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE;oBAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;wBAC9C,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;wBACzB,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,IAAI,EAAE;4BACtC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;yBACzC;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;yBACzB;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;oBACzB,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC;iBAC5C;aACF;iBAAM;gBACL,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAqC;IAC/B,aAAa,CAAC,YAAsB,EAAE,cAAmB,EAAE,MAAc;;YAC7E,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;gBAC5B,OAAO,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;gBAC7B,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;wBAC1B,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,GAAG,EAAE;wBAEd,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;wBAC1B,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;wBAC1C,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,iBAAiB;IACjB,iBAAiB,CAAC,cAAmB,EAAE,MAAc;QACnD,MAAM,gBAAgB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,oBAAoB,EAAE,aAAa,EAAE,UAAU,CAAC,EACtF,EAAE,MAAM,EAAE,IAAI,CAAC,aAAa,EAAE,QAAQ,EAAE,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC1F,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YAC9C,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAChD,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YACzC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;IACP,CAAC;CAEF;;YAtyBQ,uEAAW;YAhByB,8DAAe;YAUnD,6FAAoB;YALJ,sDAAM;YAYtB,mFAAW;YAjBX,8DAAe;YAAE,gEAAiB;YASlC,wFAAe;YAMf,mFAAY;YARZ,qEAAgB;YAHhB,wEAAc;YAOd,+FAAwB;YAExB,iHAAmB;YARnB,8DAAc;YACd,kFAAY;YAEZ,mFAAmB;YAUnB,gFAAW;YAJX,4EAAS;YAKT,iGAAmB;;AAOf,iBAAiB;IAL7B,+DAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,sFAAyC;;KAE1C,CAAC;GACW,iBAAiB,CA4xB7B;AA5xB6B;;;;;;;;;;;;;;;;;;;;AC3BW;AACc;AAEG;AAE1D,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAiB;KAC/B;IACD;QACI,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CAAC,qKAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KACxF;IACD;QACI,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CAAC,qKAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KACxF;IACD;QACI,IAAI,EAAE,QAAQ;QACd,YAAY,EAAE,GAAG,EAAE,CAAC,+JAAgC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;KACrF;IAED;QACI,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CAAC,yJAA8B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KAClF;IACD;QACI,IAAI,EAAE,YAAY;QAClB,YAAY,EAAE,GAAG,EAAE,CAAC,uLAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;KACjG;IACD;QACI,IAAI,EAAE,gBAAgB;QACtB,YAAY,EAAE,GAAG,EAAE,CAAC,2NAAoD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACjH;IACD;QACI,IAAI,EAAE,wBAAwB;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,2QAAoE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,+BAA+B,CAAC;KACxI;IACD;QACI,IAAI,EAAE,YAAY;QAClB,YAAY,EAAE,GAAG,EAAE,CAAC,uLAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC;KAChG;IACD;QACI,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CAAC,mJAA4B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC;KAC/E;IACD;QACI,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CAAC,qKAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KACxF;IACD;QACI,IAAI,EAAE,KAAK;QACX,YAAY,EAAE,GAAG,EAAE,CAAC,6IAA0B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;KAC5E;IACD;QACI,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CAAC,yJAA8B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KAClF;IACD;QACI,IAAI,EAAE,iBAAiB;QACvB,YAAY,EAAE,GAAG,EAAE,CAAC,qNAAkD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,uBAAuB,CAAC;KAC9G;IAED;QACI,IAAI,EAAE,eAAe;QACrB,YAAY,EAAE,GAAG,EAAE,CAAC,oLAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KAC5F;IACD;QACI,IAAI,EAAE,mBAAmB;QACzB,YAAY,EAAE,GAAG,EAAE,CAAC,2PAAgD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;KACzG;IACD;QACI,IAAI,EAAE,gBAAgB;QACtB,YAAY,EAAE,GAAG,EAAE,CAAC,yOAA0C,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KAChG;IACD;QACI,IAAI,EAAE,QAAQ;QACd,YAAY,EAAE,GAAG,EAAE,CAAC,8MAAiC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;KACtF;IACD;QACI,IAAI,EAAE,eAAe;QACrB,YAAY,EAAE,GAAG,EAAE,CAAC,yMAA+C,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,sBAAsB,CAAC;KAC1G;IACD;QACI,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CAAC,yJAA8B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KAClF;IACD;QACI,IAAI,EAAE,kBAAkB;QACxB,YAAY,EAAE,GAAG,EAAE,CAAC,yPAA8D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,6BAA6B,CAAC;KAChI;CACJ,CAAC;IAMW,oBAAoB,SAApB,oBAAoB;CAEhC;AAFY,oBAAoB;IAJhC,8DAAQ,CAAC;QACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KAC1B,CAAC;GACW,oBAAoB,CAEhC;AAFgC;;;;;;;;;;;;;AClGjC;AAAe,0IAA2E,gCAAgC,6IAA6I,+BAA+B,QAAQ,eAAe,sbAAsb,6BAA6B,gGAAgG,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAv0B;AACM;AACM;AAER;AAEa;AACa;AACC;AACZ;AACqC;AAC7B;AACwB;AACuB;IA0BtG,uBAAuB,SAAvB,uBAAuB;CAAG;AAA1B,uBAAuB;IAxBnC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,kEAAmB;YACnB,0DAAW;YACX,mFAAoB;YACpB,yEAAY;SACb;QACD,YAAY,EAAE;YACZ,sEAAiB;YACjB,oFAAmB;YACnB,6GAA0B;YAC1B,iFAAiB;YACjB,yGAAyB;YACzB,gIAAgC;SACjC;QACD,eAAe,EAAE;YACf,oFAAmB;YACnB,6GAA0B;YAC1B,iFAAiB;YACjB,yGAAyB;YACzB,gIAAgC;SACjC;KACF,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACvCqB;AACG;AACS;IAOxD,yBAAyB,SAAzB,yBAAyB;IAOpC,YACU,SAA0B,EAC1B,KAAmB,EACnB,MAAiB;QAFjB,cAAS,GAAT,SAAS,CAAiB;QAC1B,UAAK,GAAL,KAAK,CAAc;QACnB,WAAM,GAAN,MAAM,CAAW;QAEvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,GAAG,EAAE;YAC1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACN,CAAC;IAEF,QAAQ,KAAI,CAAC;IAEb,eAAe,CAAC,OAAa;QAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SAC3C;IACH,CAAC;CAEF;;YAlCQ,8DAAe;YACf,kFAAY;YADK,wDAAS;;;0BAWhC,mDAAK;4BACL,mDAAK;;AAJK,yBAAyB;IALrC,+DAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;QACjC,8FAAiD;;KAElD,CAAC;GACW,yBAAyB,CA0BrC;AA1BqC;;;;;;;;;;;;;ACTtC;AAAe,6GAA8C,2IAA2I,E;;;;;;;;;;;;;;;;;;;;;;;ACA/I;AACG;AACS;IAOxD,gCAAgC,SAAhC,gCAAgC;IAO3C,YACU,SAA0B,EAC1B,KAAmB,EAC3B,MAAiB;QAFT,cAAS,GAAT,SAAS,CAAiB;QAC1B,UAAK,GAAL,KAAK,CAAc;QAGzB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,GAAG,EAAE;YAC1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;IACrC,CAAC;IAEF,QAAQ,KAAI,CAAC;IAEb,eAAe,CAAC,OAAa;QAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SAC3C;IACH,CAAC;CAEF;;YApCQ,8DAAe;YACf,kFAAY;YADK,wDAAS;;;0BAWhC,mDAAK;4BACL,mDAAK;;AAJK,gCAAgC;IAL5C,+DAAS,CAAC;QACT,QAAQ,EAAE,+BAA+B;QACzC,sGAAyD;;KAE1D,CAAC;GACW,gCAAgC,CA4B5C;AA5B4C","file":"my-tontines-tontine-detail-tontine-detail-module.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"ion-text-center\\\">{{ 'CONTRIBUTE_MSG' | translate }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"tontine-contribute\\\">\\r\\n  <h4 class=\\\"ion-padding-horizontal\\\"><small>{{ 'PAIDMODE_MSG1' | translate }} : <b>{{ tontineName }}</b></small></h4>\\r\\n  <app-paidmode-seance-caution [amountPay]=\\\"contribAmount\\\"></app-paidmode-seance-caution>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-button expand=\\\"full\\\" \\r\\n                fill=\\\"outline\\\"\\r\\n                color=\\\"warning\\\" \\r\\n                class=\\\"ion-text-uppercase\\\"\\r\\n                shape=\\\"round\\\" (click)=\\\"closeContribute('close')\\\">\\r\\n            {{ 'CANCEL_TEXT' | translate }}\\r\\n          </ion-button>\\r\\n      </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n</ion-footer>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250cmlidXRlLXNlYW5jZS1jYXV0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"ion-text-center\\\">{{ 'CONTRIBUTE_MSG' | translate }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"tontine-contribute\\\">\\r\\n  <h4 class=\\\"ion-padding-horizontal\\\"><small>{{ 'PAIDMODE_MSG1' | translate }} : <b>{{ tontineName }}</b></small></h4>\\r\\n  <app-paidmode-seance [amountPay]=\\\"contribAmount\\\"></app-paidmode-seance>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-button expand=\\\"full\\\" \\r\\n                fill=\\\"outline\\\"\\r\\n                color=\\\"warning\\\" \\r\\n                class=\\\"ion-text-uppercase\\\"\\r\\n                shape=\\\"round\\\" (click)=\\\"closeContribute('close')\\\">\\r\\n            {{ 'CANCEL_TEXT' | translate }}\\r\\n          </ion-button>\\r\\n      </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n</ion-footer>\\r\\n\";","export default \"<ion-list class=\\\"ion-padding-top\\\" class=\\\"tontine-detail-menu-popover\\\">  \\r\\n  <ion-item (click)=\\\"inviteMember()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'TONTINE_INVITED_TEXT1' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n \\r\\n  <ion-item (click)=\\\"financialStats()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'FINANCIAL_STATISQUE' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item (click)=\\\"transactionHistory()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'TRANSACTIONS_HISTORY' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item (click)=\\\"createTontinePage()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'MENU_NEW_TONTINE' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  \\r\\n  <ion-item (click)=\\\"debtManagerPage()\\\" *ngIf=\\\"isTraditionnalBanking()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'DEBTS_MANAGER' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf=\\\"isLoan()\\\" (click)=\\\"loan()\\\" \\r\\n  lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{'LOAN_MANAGER' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item (click)=\\\"joinTontinePage()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'MENU_JOIN_TONTINE' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf=\\\"canShareCode()\\\" (click)=\\\"shareCode()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'MENU_SHARE_CODE_TONTINE' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item (click)=\\\"openWallet()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'MENU_MY_WALLET' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item (click)=\\\"archiveTontine()\\\" *ngIf=\\\"canArchive()\\\" lines=\\\"none\\\">\\r\\n    <ion-label>\\r\\n      {{ 'MENU_ARCHIVE_TEXT' | translate }}\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n</ion-list>\";","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\n\r\n@Component({\r\n  selector: 'app-contribute',\r\n  templateUrl: './contribute.component.html',\r\n  styleUrls: ['./contribute.component.scss'],\r\n})\r\nexport class ContributeComponent implements OnInit {\r\n\r\n  \r\n  @Input() tontineName: string;\r\n  @Input() contribAmount: number;\r\n  tontineData: any;\r\n\r\n  constructor(\r\n    private modatCtrl: ModalController,\r\n    private event: EventService,\r\n    params: NavParams\r\n  ) {\r\n      this.tontineData = params.get('data');\r\n      this.event.subscribe('modal-pay-close', () => {\r\n          this.closeContribute();\r\n      });\r\n   }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeContribute() {\r\n    if (this.modatCtrl) {\r\n      this.modatCtrl.dismiss(null, 'cancel');\r\n    }\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbmZvLWVkaXQuY29tcG9uZW50LnNjc3MifQ== */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250cmlidXRlLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0b250aW5lLWRldGFpbC5wYWdlLnNjc3MifQ== */\";","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { TontineService } from '../../services/tontine.service';\r\nimport { LocationService } from 'src/app/shared/service/location.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { States } from 'src/app/shared/models/countries';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { DateserviceService } from 'src/app/shared/service/dateservice.service';\r\nimport { TontineGlobalDataService } from '../../services/tontine-global-data.service';\r\nimport { PaymentGlobalDataService } from 'src/app/shared/service/payment-global-data.service';\r\nimport { ConstantService } from 'src/app/shared/service/constant.service';\r\nimport { TontineErrorService } from 'src/app/dashboard/my-tontines/services/tontine-error.service';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\nimport { UiService } from 'src/app/shared/service/ui.service';\r\n\r\ninterface Periodicity {\r\n  value: string;\r\n  key: string;\r\n  label: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-info-edit',\r\n  templateUrl: './info-edit.component.html',\r\n  styleUrls: ['./info-edit.component.scss'],\r\n})\r\nexport class InfoEditComponent implements OnInit {\r\n\r\n  infoEditForm: FormGroup;\r\n  states: States[];\r\n  statesList: States[];\r\n  typeOfTontine: any;\r\n  periodicities: Periodicity[] = [];\r\n  defaultState: any;\r\n  startDateSelect = new Date();\r\n  validationMessages: any;\r\n  minAmount: number;\r\n  minAmountMessage: string;\r\n  loading: boolean;\r\n  isDateValid: boolean;\r\n  currentSeance: any;\r\n  currentTontine: any;\r\n  minDate: string;\r\n  typesCaution: any;\r\n\r\n  MsgTontinePeriodicity: any = \"\";\r\n  ShowTontinePeriodicityMonthly: boolean = false;\r\n  MonthDayOccurency: number = 1;\r\n  MonthDayOccurencyMsg: any = \"\";\r\n  MonthDayOccurencyLabel: any = \"\";\r\n  errorDocFormat: boolean;\r\n  maxDate: any = (new Date()).getFullYear() + 5;\r\n  previousSeance: any;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private modatCtrl: ModalController,\r\n    private zone: NgZone,\r\n    private events: EventService,\r\n    private tontine: TontineService,\r\n    private tontineData: TontineGlobalDataService,\r\n    private tontineError: TontineErrorService,\r\n    private paymentData: PaymentGlobalDataService,\r\n    private location: TranslateService,\r\n    private error: ErrorService,\r\n    private locate: LocationService,\r\n    private ui: UiService,\r\n    private dateService: DateserviceService,\r\n    private constant: ConstantService,\r\n  ) {\r\n    this.minAmount = 1;\r\n    this.minAmountMessage = '';\r\n    this.typeOfTontine = [];\r\n    this.states = [];\r\n    this.statesList = [];\r\n    this.startDateSelect = new Date();\r\n    this.loading = false;\r\n    this.isDateValid = false;\r\n    this.minDate = this.dateService.formatDateTiret(new Date());\r\n    this.errorDocFormat = false;\r\n    this.typesCaution = [];\r\n    this.getPeriodicity();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initValidateMessage();\r\n    let formData = this.tontine.getCurrentTontineData();\r\n    this.currentTontine = formData;\r\n    this.currentSeance = formData.seance_courante;\r\n    this.previousSeance = formData.avant_derniere_seance;\r\n    this.defaultState = this.locate.getCurrentUserCountry();\r\n    this.initInfoEditForm(formData.tontine);\r\n    this.getCountries(false);\r\n    this.getTypes();\r\n    this.getCautionList();\r\n  }\r\n\r\n  // Form getters\r\n  get tontineName() {\r\n    return this.infoEditForm.get('tontine_name');\r\n  }\r\n\r\n  get tontineDesc() {\r\n    return this.infoEditForm.get('description');\r\n  }\r\n\r\n  get tontineType() {\r\n    return this.infoEditForm.get('drawingtype_id');\r\n  }\r\n\r\n  get tontineCountry() {\r\n    return this.infoEditForm.get('country');\r\n  }\r\n\r\n  get tontineCurrenccy() {\r\n    return this.infoEditForm.get('currrency_form');\r\n  }\r\n\r\n  get tontineAmount() {\r\n    return this.infoEditForm.get('contribution_amount_form');\r\n  }\r\n\r\n  get tontineFrequency() {\r\n    return this.infoEditForm.get('periodicite');\r\n  }\r\n\r\n  get tontineDate() {\r\n    return this.infoEditForm.get('startDate');\r\n  }\r\n\r\n  get cautionAmount() {\r\n    return this.infoEditForm.get('caution_amount');\r\n  }\r\n\r\n  // Init periodicity \r\n  getPeriodicity() {\r\n    this.location.get(['TONTINE_PERIODICITY_DAY', 'TONTINE_PERIODICITY_WEEK', 'TONTINE_PERIODICITY_MONTH'])\r\n      .subscribe(data => {\r\n        this.periodicities.push({ value: 'Day', key: 'TONTINE_PERIODICITY_DAY', label: data.TONTINE_PERIODICITY_DAY });\r\n        this.periodicities.push({ value: 'Week', key: 'TONTINE_PERIODICITY_WEEK', label: data.TONTINE_PERIODICITY_WEEK });\r\n        this.periodicities.push({ value: 'Month', key: 'TONTINE_PERIODICITY_MONTH', label: data.TONTINE_PERIODICITY_MONTH });\r\n      });\r\n  }\r\n\r\n  // Can edit Info \r\n  canEditInfo() {\r\n    let canEdit = false;\r\n    if (((!this.currentSeance && this.currentTontine.tontine.active === 0) || (!this.currentSeance && !this.previousSeance && this.currentTontine.tontine.active === 1) ||\r\n      (this.currentSeance && this.currentSeance.numero_seance < 1 && this.currentTontine.tontine.active === 1)) && this.currentTontine.tontine.administrator === 1) {\r\n      canEdit = true;\r\n    }\r\n    return canEdit\r\n  }\r\n\r\n  // can edit caution\r\n  canEditCaution(cautiondId) {\r\n    let ican = false;\r\n    if (cautiondId && (this.currentSeance && this.currentSeance.numero_seance < 3) \r\n       || !cautiondId && (this.currentSeance && this.currentSeance.numero_seance < 1) \r\n       || !this.currentSeance\r\n    ) {\r\n      ican = true;\r\n    }\r\n    return ican;\r\n  }\r\n\r\n  // Form message init\r\n  initValidateMessage() {\r\n    this.location.get(['M_NAME_REQUIRED', 'M_DESCRIPTION_REQUIRED',\r\n      'M_TYPE_REQUIRED', 'M_COUNTRY_REQUIRED', 'M_CURRENCY_REQUIRED', 'M_AMOUNT_REQUIRED'\r\n      , 'M_FREQUENCY_REQUIRED', 'M_STARTDATE_REQUIRED']).subscribe(trans => {\r\n\r\n        this.validationMessages = {\r\n          name: [\r\n            { type: 'required', message: trans.M_NAME_REQUIRED }\r\n          ],\r\n          description: [\r\n            { type: 'required', message: trans.M_DESCRIPTION_REQUIRED }\r\n          ],\r\n          type: [\r\n            { type: 'required', message: trans.M_TYPE_REQUIRED }\r\n          ],\r\n          country: [\r\n            { type: 'required', message: trans.M_COUNTRY_REQUIRED }\r\n          ],\r\n          currency: [\r\n            { type: 'required', message: trans.M_CURRENCY_REQUIRED }\r\n          ],\r\n          amount: [\r\n            { type: 'required', message: trans.M_AMOUNT_REQUIRED }\r\n          ],\r\n          frequency: [\r\n            { type: 'required', message: trans.M_FREQUENCY_REQUIRED }\r\n          ],\r\n          startDate: [\r\n            { type: 'required', message: trans.M_STARTDATE_REQUIRED }\r\n          ],\r\n        };\r\n      });\r\n  }\r\n\r\n  initInfoEditForm(formData: any) {\r\n\r\n    if (formData.active === 0) {\r\n      this.startDateSelect = this.dateService.addDays(new Date(), 1);\r\n    } else {\r\n      this.startDateSelect = formData && formData.date_debut ? new Date(formData.date_debut) : this.dateService.addDays(new Date(), 1);\r\n    }\r\n\r\n    const periode: string = formData && formData.periodicite ? formData.periodicite : null;\r\n    this.infoEditForm = this.fb.group({\r\n      tontine_id: [formData && formData.tontine_id ? formData.tontine_id : ''],\r\n      slogan: [formData && formData.slogan ? formData.slogan : ''],\r\n      monthFrequencyOption: [formData && formData.is_week_day === 0 ? 0 : 1],\r\n      is_week_day: [formData && formData.is_week_day === 0 ? 0 : 1],\r\n      frequence: [formData && formData.frequence ? formData.frequence : '1'],\r\n      country_key: [''],\r\n      periodicite_key: [formData && formData.periodicite_key ? formData.periodicite_key : 'TONTINE_PERIODICITY_MONTH'],\r\n      type_tontine_key: [''],\r\n      quality_id: [formData && formData.quality_id ? formData.quality_id : ''],\r\n      drawingtype_id: [''],\r\n      periodicite: [periode ? periode.charAt(0).toUpperCase() + periode.slice(1) : 'Month'],\r\n      country: ['', Validators.compose([Validators.required])],\r\n      tontine_name: [formData && formData.name ? formData.name : '', Validators.compose([Validators.required])],\r\n      description: [formData && formData.description ? formData.description : ''],\r\n      contribution_amount: [formData && formData.coutshare ? formData.coutshare : ''],\r\n      contribution_amount_form: [{ value: formData && formData.coutshare ? formData.coutshare : '', disabled: this.canEditInfo() ? false : true },\r\n      Validators.compose([Validators.required, Validators.min(this.minAmount), Validators.pattern('^[0-9]+$')])],\r\n      currency: [formData && formData.monnaie ? formData.monnaie : this.defaultState ? this.defaultState.device_name : ''],\r\n      currency_form: [{\r\n        value: formData && formData.monnaie ? formData.monnaie : this.defaultState ? this.defaultState.device_name : '', disabled: this.canEditInfo() ? false : true\r\n      }, Validators.compose([Validators.required])],\r\n      startDate: [{ value: this.dateService.formatDateTiret(this.startDateSelect), disabled: this.canEditInfo() ? false : true }, Validators.compose([Validators.required])],\r\n      tontine_date: [this.dateService.formatDateTiret(this.startDateSelect)],\r\n      with_caution: [formData && formData.caution_id ? true : false],\r\n      caution_id: [formData && formData.caution_id ? formData.caution_id : null],\r\n      type_caution: [formData && formData.caution_type ? formData.caution_type : 'member'], //value = part ou member  \r\n      caution_amount: [formData && formData.caution_amount ? formData.caution_amount : 0, Validators.compose([Validators.min(0)])]\r\n    });\r\n\r\n    this.getCurrentDateInfo(this.infoEditForm.value.startDate, this.infoEditForm.value.periodicite);\r\n\r\n    this.OptionChange(this.infoEditForm.value.monthFrequencyOption, this.infoEditForm.value.startDate);\r\n\r\n    this.checkDate(this.infoEditForm.value.startDate);\r\n  }\r\n\r\n  // Close the modal\r\n  closeInfoEdit(response: string) {\r\n    this.modatCtrl.dismiss(response, 'cancel');\r\n  }\r\n\r\n  // initialize type\r\n  typesInit(listTontinesTypes: any) {\r\n    this.zone.run(() => {\r\n      this.typeOfTontine = listTontinesTypes;\r\n    });\r\n\r\n    setTimeout(() => {\r\n      const formData = this.tontine.getCurrentTontineData().tontine;\r\n      const currentType = formData && formData.drawingtype_id ? formData.drawingtype_id : 1;\r\n      this.infoEditForm.get('drawingtype_id').setValue(currentType);\r\n      this.typeOfTontine.forEach(data => {\r\n        if (data.type.id === parseInt(currentType, 10)) {\r\n          this.infoEditForm.get('type_tontine_key').setValue(data.key ? data.key : 'TYPE_TONTINE_ID1');\r\n        }\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  // Get the type of tontines\r\n  getTypes() {\r\n    this.tontine.getTypeTontine().subscribe((typeTontines: any) => {\r\n      const listTontinesTypes = [];\r\n      typeTontines.type.forEach(typeData => {\r\n        this.location.get(`TYPE_TONTINE_ID${typeData.id}`).subscribe(value => {\r\n          if (typeData.id === 1 || typeData.id === 2 || typeData.id === 3 || typeData.id === 5 || typeData.id === 6) {\r\n            listTontinesTypes.push({ type: typeData, key: `TYPE_TONTINE_ID${typeData.id}`, label: value });\r\n          }\r\n        });\r\n      });\r\n      this.typesInit(listTontinesTypes);\r\n    }, error => {\r\n      this.error.manageError(error);\r\n    });\r\n  }\r\n\r\n  // initialize country\r\n  conutryInit(states: States[]) {\r\n    this.zone.run(() => {\r\n      this.statesList = states;\r\n    });\r\n\r\n    setTimeout(() => {\r\n      const formData = this.tontine.getCurrentTontineData().tontine;\r\n      this.infoEditForm.get('country').setValue(formData && formData.country ? formData.country : this.defaultState ? this.defaultState.country_name : '');\r\n      this.infoEditForm.get('country_key').setValue(formData && formData.country_key ? formData.country_key : '');\r\n    }, 200);\r\n  }\r\n\r\n  // Get the list of countries\r\n  getCountries(refresher: boolean) {\r\n    this.locate.getAllCountries(refresher).then((countries: any) => {\r\n      this.states = this.paymentData.formatCountriesData(countries);\r\n      this.conutryInit(this.states);\r\n    });\r\n  }\r\n\r\n  // Check if the date is valid\r\n  checkDate(date: any) {\r\n    const currentDate = new Date();\r\n    const inputDate = new Date(date);\r\n    inputDate <= currentDate ? this.isDateValid = false : this.isDateValid = true;\r\n  }\r\n\r\n  /// choose your month frequency option\r\n  OptionChange(value, DateChosen) {\r\n    var t = 0;\r\n    if (value === 0) {\r\n      this.infoEditForm.get('is_week_day').setValue('0');\r\n      t = t + 1;\r\n      let currentDate = new Date(DateChosen);\r\n      var d = currentDate.getDate();\r\n      currentDate.setMonth(currentDate.getMonth() + t);\r\n      if (currentDate.getDate() != d) {\r\n        currentDate.setDate(0);\r\n      }\r\n      this.location.get(['MSG_TONTINE_MONTH4']).subscribe(data => {\r\n        this.MonthDayOccurencyMsg = data.MSG_TONTINE_MONTH4 + \"<b><u>\" + this.dateService.formatDateTiret(currentDate) + \" </u></b>.\";\r\n      });\r\n    }\r\n\r\n    if (value === 1) {\r\n      this.infoEditForm.get('is_week_day').setValue('1');\r\n      this.location.get(['MSG_TONTINE_MONTH5']).subscribe(data => {\r\n        this.MonthDayOccurencyMsg = data.MSG_TONTINE_MONTH5 + this.MonthDayOccurencyLabel + \".\";\r\n      });\r\n    }\r\n  }\r\n\r\n  getCurrentDateInfo(date: any, periodicity: any) {\r\n    this.checkDate(date);\r\n    const inputDate = new Date(date);\r\n    var currentMonth = inputDate.toLocaleString('en-us', { month: 'numeric' });\r\n    var currentYear = inputDate.toLocaleString('en-us', { year: 'numeric' });\r\n    var currentDayName = inputDate.toLocaleString('en-us', { weekday: 'long' });\r\n    this.MsgTontinePeriodicity = \"\";\r\n    this.MonthDayOccurencyMsg = \"\";\r\n    this.ShowTontinePeriodicityMonthly = false;\r\n    this.infoEditForm.get('is_week_day').setValue('0');\r\n\r\n    if (periodicity === \"Month\") {\r\n\r\n      let currentWeekList = this.tontineData.numDaysInMonth(currentMonth, currentYear, this.tontineData.getDayDif(currentDayName));\r\n      // remove days which starts at position 0 or negative positions\r\n      currentWeekList = currentWeekList.filter(function (x) { return x > 0 });\r\n      let currentDayChosen = new Date(date).getDate();\r\n      this.MonthDayOccurency = 1;\r\n      for (var i = 0; i < currentWeekList.length; i++) {\r\n        if (currentWeekList[i] === currentDayChosen) {\r\n          this.MonthDayOccurency += i;\r\n          break;\r\n        }\r\n      }\r\n      this.ShowTontinePeriodicityMonthly = true;\r\n      this.location.get(['MSG_TONTINE_WEEK1', 'MSG_TONTINE_MONTH1', 'MSG_TONTINE_MONTH3',\r\n        'MSG_TONTINE_MONTH3A', 'MSG_TONTINE_MONTH3B', 'MSG_TONTINE_MONTH3C', 'MSG_TONTINE_MONTH3D']).subscribe(data => {\r\n\r\n          var OcurrencyPosition\r\n          switch (this.MonthDayOccurency) {\r\n            case 1:\r\n              OcurrencyPosition = data.MSG_TONTINE_MONTH3A;\r\n              break;\r\n            case 2:\r\n              OcurrencyPosition = data.MSG_TONTINE_MONTH3B;\r\n              break;\r\n            case 3:\r\n              OcurrencyPosition = data.MSG_TONTINE_MONTH3C;\r\n              break;\r\n            default:\r\n              OcurrencyPosition = data.MSG_TONTINE_MONTH3D;\r\n              break;\r\n          }\r\n\r\n          this.tontineData.getDayTranslation(currentDayName).subscribe(trans => {\r\n            this.MsgTontinePeriodicity = data.MSG_TONTINE_WEEK1 + this.dateService.formatDateTiret(date) + \".\";\r\n            this.MsgTontinePeriodicity += data.MSG_TONTINE_MONTH1 + \".\";\r\n            this.MonthDayOccurencyLabel = OcurrencyPosition + trans + data.MSG_TONTINE_MONTH3;\r\n          });\r\n\r\n        });\r\n\r\n      // Check if Radio button for monthly option is checked - begin\r\n      let OptionMonthChoosen = this.infoEditForm.value.monthFrequencyOption;\r\n      var t = 0;\r\n\r\n      if (OptionMonthChoosen === 0) {\r\n        this.infoEditForm.get('is_week_day').setValue('0');\r\n        t = t + 1;\r\n        let currentDate = new Date(date);\r\n        var d = currentDate.getDate();\r\n        currentDate.setMonth(currentDate.getMonth() + t);\r\n        if (currentDate.getDate() != d) {\r\n          currentDate.setDate(0);\r\n        }\r\n        this.location.get(['MSG_TONTINE_MONTH4']).subscribe(data => {\r\n          this.MonthDayOccurencyMsg = \"\" + data.MSG_TONTINE_MONTH4 + \"<b><u>\" + this.dateService.formatDateTiret(currentDate) + \" </u></b>.\";\r\n        });\r\n\r\n      }\r\n\r\n      if (OptionMonthChoosen === 1) {\r\n        this.infoEditForm.get('is_week_day').setValue('1');\r\n        this.location.get(['MSG_TONTINE_MONTH5']).subscribe(data => {\r\n          this.MonthDayOccurencyMsg = \"\" + data.MSG_TONTINE_MONTH5 + this.MonthDayOccurencyLabel + \".\";\r\n        });\r\n      }\r\n\r\n      //// Check if Radio button for monthly option is checked - end\r\n    }\r\n    if (periodicity === \"Week\") {\r\n      this.ShowTontinePeriodicityMonthly = false;\r\n      this.MonthDayOccurencyMsg = \"\";\r\n      this.location.get(['MSG_TONTINE_WEEK1', 'MSG_TONTINE_WEEK2', 'MSG_TONTINE_WEEK3']).subscribe(data => {\r\n        this.tontineData.getDayTranslation(currentDayName).subscribe(trans => {\r\n          this.MsgTontinePeriodicity = data.MSG_TONTINE_WEEK1 + this.dateService.formatDateTiret(date) +\r\n            data.MSG_TONTINE_WEEK2 + trans + data.MSG_TONTINE_WEEK3;\r\n        });\r\n      });\r\n    }\r\n\r\n    if (periodicity === \"Day\") {\r\n      this.ShowTontinePeriodicityMonthly = false;\r\n      this.MonthDayOccurencyMsg = \"\";\r\n    }\r\n  }\r\n\r\n  // Remove space\r\n  updateAmount() {\r\n    this.infoEditForm.get('contribution_amount_form').setValue(this.tontineData.removeSpace(this.infoEditForm.value.contribution_amount_form));\r\n  }\r\n\r\n  // Update the type\r\n  updateType() {\r\n    const currentType = this.infoEditForm.value.drawingtype_id;\r\n    this.typeOfTontine.forEach(data => {\r\n      if (data.type.id === parseInt(currentType, 10)) {\r\n        this.infoEditForm.get('type_tontine_key').setValue(data.key);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Update the currency\r\n  updateCurrency() {\r\n    const currentCountry = this.infoEditForm.value.country;\r\n    this.states.forEach(state => {\r\n      if (state.country_name === currentCountry) {\r\n        this.infoEditForm.get('currency_form').setValue(state.device_name);\r\n        this.infoEditForm.get('country_key').setValue(state.country_key);\r\n        this.minAmountMessage = `${this.minAmount} ${state.device_name}`;\r\n      }\r\n    });\r\n  }\r\n\r\n  // update the periodicity key\r\n  updatePeriodicity() {\r\n    const currentperiod = this.infoEditForm.value.periodicite;\r\n    this.periodicities.forEach(period => {\r\n      if (period.value === currentperiod) {\r\n        this.infoEditForm.get('periodicite_key').setValue(period.key);\r\n      }\r\n    });\r\n  }\r\n\r\n  // get the list of caution\r\n  getCautionList() {\r\n    this.constant.getCautionType().subscribe(cautions => {\r\n      this.typesCaution = cautions;\r\n    });\r\n  }\r\n\r\n  // validate caution\r\n  isCautionValid(formData: any) {\r\n    return this.tontineData.isCautionValid(formData);\r\n  }\r\n\r\n  // can create a tontine\r\n  canEditTontine() {\r\n    let ican = false;\r\n    if (!this.isDateValid\r\n      || this.infoEditForm.invalid\r\n      || this.loading\r\n      || (this.infoEditForm.value.periodicite === 'Month'\r\n        && (this.infoEditForm.value.monthFrequencyOption !== 0 && this.infoEditForm.value.monthFrequencyOption !== 1))\r\n      || !this.isCautionValid(this.infoEditForm.value)\r\n    ) {\r\n      ican = true;\r\n    }\r\n    return ican;\r\n  }\r\n\r\n  // Create the tontine\r\n  updateGeneralInfoTontine() {\r\n    // when the tontine is created, we get the code generee and display it\r\n    this.loading = true;\r\n    this.infoEditForm.get('tontine_date').setValue(this.dateService.formatDateTiret(this.infoEditForm.value.startDate));\r\n    const data = this.infoEditForm.value;\r\n    data.contribution_amount = data.contribution_amount_form ? data.contribution_amount_form : data.contribution_amount;\r\n    data.currency = data.currency_form ? data.currency_form : data.currency;\r\n\r\n    const formData = this.tontineData.updateCaution(data);\r\n\r\n    this.tontine.updateTontine(formData).subscribe(\r\n      (reponse: any) => {\r\n        this.loading = false;\r\n        if (reponse && reponse.message === 'success') {\r\n          this.location.get('TONTINE_EDIT_INFO_TEXT3').subscribe(value => {\r\n            this.ui.presentToast(value);\r\n          });\r\n          this.events.publish('new-tontine');\r\n          this.closeInfoEdit('success');\r\n        }\r\n      }, error => {\r\n        this.loading = false;\r\n        if (error && error.error) {\r\n\r\n          if (error.error.user_unauthorized) {\r\n            this.loading = true;\r\n            this.error.renewSession().then((data: any) => {\r\n              if (data && data.result === \"OK\") {\r\n                this.updateGeneralInfoTontine();\r\n              } else {\r\n                this.loading = false;\r\n              }\r\n            });\r\n          } else {\r\n            this.tontineError.manageTontineError(error);\r\n          }\r\n\r\n        } else {\r\n          this.error.manageError(error);\r\n        }\r\n      });\r\n  }\r\n\r\n  uploadFile() {\r\n    const param = {\r\n      picture: '',\r\n      tontine_id: this.currentTontine.value.tontine_id\r\n    };\r\n    this.uploadDocumentation(param);\r\n  }\r\n\r\n  // Upload documentation\r\n  uploadDocumentation(param) {\r\n    this.loading = true;\r\n    this.tontine.createAndUpdateDocumentationTontine(param).subscribe(\r\n      (reponse: any) => {\r\n        this.loading = false;\r\n        if (reponse && reponse.message === 'success') {\r\n          this.location.get('TONTINE_EDIT_INFO_TEXT3').subscribe(value => {\r\n            this.ui.presentToast(value);\r\n          });\r\n        }\r\n      }, error => {\r\n        this.loading = false;\r\n        if (error && error.error) {\r\n          if (error.error.user_unauthorized) {\r\n            this.error.renewSession().then((data: any) => {\r\n              if (data && data.result === \"OK\") {\r\n                this.uploadDocumentation(param);\r\n              }\r\n            });\r\n          }\r\n\r\n          if (error.error.tontine_not_found) {\r\n            this.location.get('TONTINE_INVITE_TEXT10').subscribe(value => {\r\n              this.ui.presentToast(value);\r\n            });\r\n          }\r\n        } else {\r\n          this.error.manageError(error);\r\n        }\r\n      });\r\n  }\r\n\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color=\\\"primary\\\" defaultHref=\\\"/dashboard/my-tontines\\\" slot=\\\"text-only\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-avatar slot=\\\"start\\\">\\r\\n      <ion-img [src]=\\\"'assets/join-icon.svg'\\\" class=\\\"thumb-img\\\"></ion-img>\\r\\n    </ion-avatar>\\r\\n    <ion-title class=\\\"ion-padding\\\">\\r\\n      <span> {{ myTontine.name ? (myTontine.name | stringTruncate : 11) : '' }} </span>\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"openContextMenu($event)\\\">\\r\\n        <ion-icon name=\\\"ellipsis-vertical\\\" color=\\\"primary\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"tontine-detail\\\">\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreSher($event)\\\">\\r\\n    <ion-refresher-content pullingIcon=\\\"reload-outline\\\" refreshingSpinner=\\\"circles\\\"\\r\\n      refreshingText=\\\"{{ 'M_REFRESHING_TEXT' | translate }}\\\">\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <ion-grid>\\r\\n\\r\\n    <ion-row *ngIf=\\\"!loadingCaisse\\\">\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\" *ngIf=\\\"walletTontines && walletTontines.length > 0\\\">\\r\\n        <ion-card class=\\\"block-1\\\">\\r\\n          <ion-card-content class=\\\"ion-text-center\\\">\\r\\n            <ion-row>\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <div class=\\\"t-balance\\\">\\r\\n                  <ion-text color=\\\"danger\\\"><span class=\\\"desc\\\">{{ 'TONTINE_DETAIL_TEXT7' | translate }} :\\r\\n                      {{walletTontines && walletTontines[0] ? (walletTontines[0].total_balance | commadumper) : 0 }}\\r\\n                      {{myTontine.currency}}</span></ion-text>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col [size]=\\\"detailCaisses && detailCaisses.length > 3 ? 3 : 4\\\" *ngFor=\\\"let caisse of detailCaisses\\\"\\r\\n                class=\\\"col-button\\\">\\r\\n                <div class=\\\"desc\\\">{{caisse.caisse_name ? (caisse.caisse_name.split(' ')[0] | translate) : ''}} <br />\\r\\n                  {{caisse.caisse_name ? (caisse.caisse_name.replace(caisse.caisse_name.split(' ')[0],\\\"\\\") | translate) :\\r\\n                  ''}} <br /> ({{myTontine.currency}})</div>\\r\\n                <div class=\\\"menu-amount\\\">{{caisse.solde ? (caisse.solde | commadumper) : 0}}</div>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row\\r\\n      *ngIf=\\\"isAdmin() && currentTontine.tontine.active === 0\\\">\\r\\n      <ion-col class=\\\"ion-margin-top\\\">\\r\\n        <ion-label color=\\\"danger\\\">\\r\\n          <ion-icon color=\\\"danger\\\" name=\\\"information-circle-outline\\\" slot=\\\"icon-only\\\"> </ion-icon>\\r\\n          <span [innerHTML]=\\\"'TONTINE_ALERT_MESSAGE' | translate\\\"></span>\\r\\n        </ion-label>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <div class=\\\"block-2 ion-padding\\\">\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-label class=\\\"ion-padding-vertical\\\">\\r\\n            <p>\\r\\n              <span>\\r\\n                <b><em>{{'CREATED_ON' | translate}} {{currentTontine && currentTontine.tontine &&\\r\\n                    currentTontine.tontine.created_at? currentTontine.tontine.created_at.split(' ')[0] : ''}}</em></b>\\r\\n              </span>\\r\\n            </p>\\r\\n            <span><b><em>{{'DESCRIPTION_TEXT' | translate }} : </em> </b></span>\\r\\n            <span [innerHTML]=\\\"myTontine.description\\\">\\r\\n            </span>\\r\\n          </ion-label>\\r\\n          <ion-label class=\\\"ion-padding-vertical\\\">\\r\\n            <p>\\r\\n              <span>\\r\\n                <b><em>{{'ENDED_ON' | translate}} {{currentTontine && currentTontine.tontine &&\\r\\n                    currentTontine.tontine.date_fin_cycle ? currentTontine.tontine.date_fin_cycle.split(' ')[0] :\\r\\n                    ''}}</em></b>\\r\\n              </span>\\r\\n            </p>\\r\\n          </ion-label>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row class=\\\"row-1\\\">\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'TONTINE_NEW_TEXT4' | translate }}</b><br /> {{getCountryName(myTontine.country_key)}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'TONTINE_DETAIL_TEXT2' | translate }}</b><br /> {{myTontine.currency}}\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row class=\\\"row-2\\\">\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'TONTINE_EDIT_SHARE_TEXT9' | translate }}</b><br /> {{(myTontine.contribution | commadumper )}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'TONTINE_EDIT_TEXT10' | translate }}</b><br /> {{getPeriodicityName(myTontine.frequency_key)}}\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row class=\\\"row-2\\\">\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>Type</b><br />{{getTontineTypeName(myTontine.type_tontine_key)}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'TONTINE_NEXT_SESSION' | translate }}</b><br />{{ myTontine.dateStart | toDateObj | date :\\r\\n          'mediumDate'}}\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row class=\\\"row-2\\\"\\r\\n        *ngIf=\\\"userContribution && (userContribution.total_contribution || userContribution.total_penalite)\\\">\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{'MY_CONTRIBUTION' | translate}}</b><br />{{userContribution && userContribution.total_contribution ?\\r\\n          (userContribution.total_contribution | commadumper) : 0 }} {{myTontine.currency}}\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\r\\n          <b>{{ 'MY_PENALTIES' | translate }}</b><br />{{userContribution && userContribution ?\\r\\n          (userContribution.total_penalite | commadumper) : 0 }} {{myTontine.currency}}\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-buttons class=\\\"edit-btn\\\"\\r\\n        *ngIf=\\\"isAdmin()\\\">\\r\\n        <ion-button (click)=\\\"openEditInfo()\\\">\\r\\n          <ion-icon color=\\\"warning\\\" name=\\\"create\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-buttons>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"block-3\\\" *ngIf=\\\"isBid()\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-list>\\r\\n            <ion-item lines=\\\"none\\\" *ngIf=\\\"currentAmount.length === 0\\\">\\r\\n              <ion-text>\\r\\n                {{ 'TONTINE_DETAIL_TEXT23' | translate }} <br />\\r\\n                <b>0 {{myTontine.currency}} </b>\\r\\n              </ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item lines=\\\"none\\\" *ngIf=\\\"currentAmount.length > 0\\\">\\r\\n              <ion-text *ngFor=\\\"let filterValue of currentAmount | slice:0:1;\\\">\\r\\n                <p *ngIf=\\\"currentTontine.seance_courante && currentTontine.seance_courante.id === filterValue.seanceID\\\">\\r\\n                  {{ 'TONTINE_DETAIL_TEXT23' | translate }} <br />\\r\\n                  <b>{{ filterValue.userID && filterValue.userID !== 0 ? filterValue.somme : '0' }}\\r\\n                    {{currentTontine.tontine.monnaie}}</b><br />\\r\\n                  {{ 'BY_TEXT' | translate}} {{ filterValue.userID && filterValue.userID !== 0 ?\\r\\n                  getCreatorName(currentTontine.membres.liste_membre, filterValue.userID) : ('TONTINE_LIST_TEXT6' |\\r\\n                  translate) }} <br />\\r\\n                  {{ filterValue.userID && filterValue.userID !== 0 ? ('TONTINE_LIST_TEXT3B' | translate) : '' }} {{\\r\\n                  filterValue.userID && filterValue.userID !== 0 ? (\\\": #\\\"+filterValue.numero_lot) : '' }}\\r\\n                </p>\\r\\n              </ion-text>\\r\\n              <ion-button slot=\\\"end\\\" color=\\\"warning\\\" class=\\\"ion-text-capitalize\\\" shape=\\\"round\\\"\\r\\n                (click)=\\\"showBidDetail(currentTontine.tontine.tontine_id)\\\">\\r\\n                {{ 'VIEW_BID' | translate }}\\r\\n              </ion-button>\\r\\n            </ion-item>\\r\\n          </ion-list>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </div>\\r\\n    <div class=\\\"block-4\\\">\\r\\n      <ion-row *ngIf=\\\"currentTontine && currentTontine.tontine && currentTontine.tontine.tontine_id\\\">\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-list>\\r\\n            <ion-item [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'session']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'CURRENT_SESSION_TEXT' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"isBid()\\\" (click)=\\\"showBidDetail(currentTontine.tontine.tontine_id)\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'VIEW_BID' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"!checkTontineCaution(currentTontine.tontine)\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'members']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'TONTINE_DETAIL_TEXT15' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"checkTontineCaution(currentTontine.tontine)\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'member-caution']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'TONTINE_DETAIL_TEXT15' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"isClassement()\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'jackpot-order']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'VIEW_JACKPOT_LIST' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'shares']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'SHARE_TEXT' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'roles']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'ROLES_TEXT' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'penalities']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'PENALITIES_TEXT' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"!isTraditionnal() && hasPaidCaution\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'contrib-not-paid']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'CONTRIBUTION_NOT_PAID_TEXT' | translate }}\\r\\n              </ion-text>\\r\\n              <ion-badge *ngIf=\\\"nbContributions && nbContributions.length > 0\\\" slot=\\\"end\\\" color=\\\"light\\\">\\r\\n                {{nbContributions.length}}</ion-badge>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"isLoan()\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'loans']\\\" lines=\\\"none\\\"\\r\\n              detail>\\r\\n              <ion-text>{{ 'LOAN_MANAGER' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              *ngIf=\\\"isTraditionnal() || isLoan()\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'debts']\\\" lines=\\\"none\\\"\\r\\n              detail>\\r\\n              <ion-text>{{ 'DEBTS_MANAGER' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item\\r\\n              *ngIf=\\\"isTraditionnal() && !isLoan()\\\"\\r\\n              [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'session-no-paid']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{ 'BENEFICIAL_STATUS' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n            <ion-item [routerLink]=\\\"['/', 'dashboard', 'my-tontines', currentTontine.tontine.tontine_id, 'wallet']\\\"\\r\\n              lines=\\\"none\\\" detail>\\r\\n              <ion-text>{{'TONTINE_WALLET_TEXT' | translate }}</ion-text>\\r\\n            </ion-item>\\r\\n          </ion-list>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </div>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\" *ngIf=\\\"showContributionBtn&&currentSeance || icanPayCaution(currentTontine)\\\">\\r\\n  <p class=\\\"ion-text-center\\\" *ngIf=\\\"!checkPaidCaution || !hascheckPreviousSeance\\\">\\r\\n    <ion-spinner name=\\\"circles\\\"></ion-spinner>\\r\\n  </p>\\r\\n  <ion-button expand=\\\"full\\\"\\r\\n    *ngIf=\\\"canContributeSeance(members.liste_membre)  && checkContributeCondition()\\\"\\r\\n    color=\\\"warning\\\" class=\\\"ion-text-uppercase\\\" shape=\\\"round\\\" (click)=\\\"confirmPin()\\\">\\r\\n    {{ 'CONTRIBUTE_MSG' | translate }}\\r\\n  </ion-button>\\r\\n  <ion-button expand=\\\"full\\\"\\r\\n    *ngIf=\\\"!canContributeSeance(members.liste_membre)  && checkContributeCondition()\\\"\\r\\n    color=\\\"warning\\\" class=\\\"ion-text-uppercase\\\" shape=\\\"round\\\">\\r\\n    {{ 'TONTINE_LIST_CONTRIBUTE' | translate }}\\r\\n  </ion-button>\\r\\n\\r\\n  <ion-button expand=\\\"full\\\" *ngIf=\\\"icanPayCaution(currentTontine)\\\" color=\\\"warning\\\"\\r\\n    [disabled]=\\\"loadingPay\\\" class=\\\"ion-text-uppercase\\\" shape=\\\"round\\\"\\r\\n    (click)=\\\"confirmCautionPin(currentTontine,user.id)\\\">\\r\\n    {{ 'PAY_CAUTION_TEXT' | translate }} {{ '(' + cautionAmount + currentTontine.tontine.monnaie + ')'}}\\r\\n  </ion-button>\\r\\n</ion-footer>\";","import { Component, OnInit } from '@angular/core';\r\nimport { PopoverController, Platform, AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { TontineService } from '../../services/tontine.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { TontineErrorService } from 'src/app/dashboard/my-tontines/services/tontine-error.service';\r\nimport { UiService } from 'src/app/shared/service/ui.service';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\nimport { PluginService } from 'src/app/shared/service/plugin.service';\r\n\r\n@Component({\r\n  selector: 'app-tontine-detail-menu',\r\n  templateUrl: './tontine-detail-menu.component.html',\r\n  styleUrls: ['./tontine-detail-menu.component.scss'],\r\n})\r\nexport class TontineDetailMenuComponent implements OnInit {\r\n  currentTontine: any;\r\n  seance: any;\r\n  previousSeance: any;\r\n  shareData: any[];\r\n\r\n  constructor(\r\n    public popoverController: PopoverController,\r\n    private platform: Platform,\r\n    private tontine: TontineService,\r\n    private event: EventService,\r\n    private ui: UiService,\r\n    private error: ErrorService,\r\n    private tontineError: TontineErrorService,\r\n    private router: Router,\r\n    private translate: TranslateService,\r\n    private alertController: AlertController,\r\n    private plugin: PluginService\r\n  ) {\r\n    this.currentTontine = this.tontine.getCurrentTontineData();\r\n    this.seance = this.currentTontine.seance_courante;\r\n    this.previousSeance = this.currentTontine.avant_derniere_seance;\r\n    this.shareData = [];\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  // Close the menu\r\n  closeTontineDetailMenu() {\r\n    this.popoverController.dismiss();\r\n  }\r\n\r\n  // Get the financial statistique\r\n  financialStats() {\r\n    this.popoverController.dismiss();\r\n    this.router.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'stat']);\r\n  }\r\n\r\n  // Get the transaction History\r\n  transactionHistory() {\r\n    this.popoverController.dismiss();\r\n    this.router.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'history']);\r\n  }\r\n\r\n  // Open create tontine page\r\n  createTontinePage() {\r\n    this.closeTontineDetailMenu();\r\n    this.router.navigate(['/dashboard/my-tontines/new']);\r\n  }\r\n\r\n  // Join a tontine\r\n  joinTontinePage() {\r\n    this.closeTontineDetailMenu();\r\n    this.router.navigate(['/dashboard/join-tontine']);\r\n  }\r\n\r\n  // Loan manager\r\n  loan() {\r\n    this.closeTontineDetailMenu();\r\n    this.router.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'loans']);\r\n  }\r\n\r\n\r\n  // open tontine wallet\r\n  openWallet() {\r\n    this.closeTontineDetailMenu();\r\n    this.router.navigate(['/dashboard/my-wallet']);\r\n  }\r\n\r\n  // open the debt manager page\r\n  debtManagerPage() {\r\n    this.popoverController.dismiss();\r\n    this.router.navigate(['/', 'dashboard', 'my-tontines', this.currentTontine.tontine.tontine_id, 'debts']);\r\n  }\r\n\r\n  // Invite members\r\n  inviteMember() {\r\n    this.popoverController.dismiss();\r\n    this.router.navigate(['/', 'dashboard', 'invitations']);\r\n  }\r\n\r\n\r\n  // Share the app with friends\r\n  shareCode() {\r\n    let link = '';\r\n    if (this.platform.is('android')) {\r\n      link = 'https://bit.ly/2Zr78Me';\r\n    } else {\r\n      link = 'https://apple.co/2yrfLeM';\r\n    }\r\n    this.translate.get(['SHARE_CODE_MESSAGE', 'SHARE_CODE_TITLE', 'DOWNLOAD_TEXT']).subscribe(trans => {\r\n      this.shareData.push(trans.SHARE_CODE_MESSAGE);\r\n      this.shareData.push(trans.DOWNLOAD_TEXT);\r\n      this.shareData.push(trans.SHARE_CODE_TITLE);\r\n    });\r\n    this.plugin.share(`${this.shareData[0]}  ${this.currentTontine.tontine.name} \\n\\n Code : ${this.currentTontine.tontine.code_invitation} \\n\\n ${this.shareData[1]} \\n `, `${this.shareData[2]}`, link);\r\n  }\r\n\r\n  // Can edit share \r\n  canShareCode() {\r\n    let canEdit = false;\r\n    if (((!this.seance && this.currentTontine.tontine.active === 0) || (!this.seance && !this.previousSeance && this.currentTontine.tontine.active === 1) ||\r\n      (this.seance && this.seance.numero_seance < 1 && this.currentTontine.tontine.active === 1)) && this.currentTontine.tontine.administrator === 1) {\r\n      canEdit = true;\r\n    }\r\n    return canEdit\r\n  }\r\n\r\n  // Who can archive the tontine\r\n  canArchive() {\r\n    let canEdit = false;\r\n    if ((!this.seance && this.currentTontine.tontine.active === 0) && this.currentTontine.tontine.administrator === 1) {\r\n      canEdit = true;\r\n    }\r\n    return canEdit\r\n  }\r\n\r\n  // Archive la tontine\r\n  archiveTontine() {\r\n    this.popoverController.dismiss();\r\n    this.confirmArchiveMessage();\r\n\r\n  }\r\n\r\n  // check if it is traditionnal payment\r\n  isTraditionnalBanking() {\r\n    return this.currentTontine && this.currentTontine.tontine.tontine_payment_type_id === 1;\r\n  }\r\n\r\n // check if it is tontine loan\r\n isLoan() {\r\n  return this.currentTontine &&  this.currentTontine.tontine.drawingtype_id === 6;\r\n }\r\n\r\n  // confirm archivation\r\n  confirmArchiveMessage() {\r\n    const messages = [];\r\n    this.translate.get(['M_ARCHIVE_TITLE', 'M_ARCHIVE_MESSAGE', 'CANCEL_TEXT', 'YES_TEXT'], { tontine: this.currentTontine.tontine.name })\r\n      .subscribe(trans => {\r\n        messages.push(trans.M_ARCHIVE_TITLE);\r\n        messages.push(trans.M_ARCHIVE_MESSAGE);\r\n        messages.push(trans.CANCEL_TEXT);\r\n        messages.push(trans.YES_TEXT);\r\n        this.archiveMessage(messages);\r\n      });\r\n  }\r\n\r\n  // archive message\r\n  async archiveMessage(translation: string[]) {\r\n\r\n    const alert = await this.alertController.create({\r\n      header: `${translation[0]}`,\r\n      message: `${translation[1]}`,\r\n      buttons: [\r\n        {\r\n          text: `${translation[2]}`,\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n\r\n          }\r\n        }, {\r\n          text: `${translation[3]}`,\r\n          handler: () => {\r\n            // send the archivation answer\r\n            this.archviveTontineService();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  // Archive tontine service\r\n  archviveTontineService() {\r\n    const data = {\r\n      liste_tontine:\r\n        [{ tontine_id: this.currentTontine.tontine.tontine_id, archived: 1 }]\r\n    };\r\n\r\n    this.translate.get(['ARCHIVE_PROCESSING']).subscribe(trans => {\r\n      this.ui.presentLoading(trans.ARCHIVE_PROCESSING);\r\n    });\r\n    this.tontine.disableTontine(data).subscribe((reponse: any) => {\r\n      if (reponse && reponse.message === \"success\") {\r\n        this.translate.get(['ARCHIVE_SUCCESS_MSG'], { tontine: this.currentTontine.tontine.name }).subscribe(trans => {\r\n          this.ui.presentToast(trans.ARCHIVE_SUCCESS_MSG);\r\n        });\r\n        this.event.publish('new-tontine');\r\n        this.router.navigate(['/dashboard/my-tontines']);\r\n      }\r\n      this.ui.dismissLoading();\r\n\r\n    }, error => {\r\n\r\n\r\n      if (error && error.error && error.error.message === \"error\") {\r\n        if (error && error.error && error.error.user_not_found) {\r\n          this.error.renewSession().then((ans: any) => {\r\n            this.ui.dismissLoading();\r\n            if (ans && ans.result === \"OK\") {\r\n              this.archviveTontineService();\r\n            }\r\n          });\r\n\r\n        } else {\r\n          this.ui.dismissLoading();\r\n          this.tontineError.manageTontineError(error);\r\n        }\r\n      } else {\r\n        this.ui.dismissLoading();\r\n        this.error.manageError(error);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250cmlidXRlLXNlYW5jZS5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"ion-text-center\\\">{{ 'TONTINE_EDIT_INFO_TEXT1' | translate }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"infoEditForm\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">{{ 'TONTINE_EDIT_TEXT7' | translate }}</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"tontine_name\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.name\\\">\\r\\n              <div class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"tontineName.hasError(validation.type) && (tontineName.dirty || tontineName.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                {{ validation.message }}\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">{{ 'DESCRIPTION_TEXT' | translate }}</ion-label>\\r\\n            <ion-textarea type=\\\"text\\\" formControlName=\\\"description\\\" required></ion-textarea>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.description\\\">\\r\\n              <div class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"tontineDesc.hasError(validation.type) && (tontineDesc.dirty || tontineDesc.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                {{ validation.message }}\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label>{{ 'TONTINE_DETAIL_TEXT5' | translate }}</ion-label>\\r\\n            <ion-select (ionChange)=\\\"updateType()\\\" formControlName=\\\"drawingtype_id\\\">\\r\\n              <ion-select-option *ngFor=\\\"let type of typeOfTontine\\\" [value]=\\\"type.type.id\\\">{{ type.label }}\\r\\n              </ion-select-option>\\r\\n            </ion-select>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.type\\\">\\r\\n              <div class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"tontineType.hasError(validation.type) && (tontineType.dirty || tontineType.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                {{ validation.message }}\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label>{{ 'TONTINE_EDIT_TEXT5' | translate }}</ion-label>\\r\\n            <ion-select (ionChange)=\\\"updateCurrency()\\\" formControlName=\\\"country\\\">\\r\\n              <ion-select-option *ngFor=\\\"let state of statesList\\\" [value]=\\\"state.country_name\\\">{{ state.country_label }}\\r\\n              </ion-select-option>\\r\\n            </ion-select>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.country\\\">\\r\\n              <div class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"tontineCountry.hasError(validation.type) && (tontineCountry.dirty || tontineCountry.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                {{ validation.message }}\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">{{ 'TONTINE_DETAIL_TEXT3' | translate }}</ion-label>\\r\\n            <ion-input type=\\\"number\\\" (ionChange)=\\\"updateAmount()\\\" formControlName=\\\"contribution_amount_form\\\" required>\\r\\n            </ion-input>\\r\\n            <span slot=\\\"end\\\" class=\\\"slot-prefix ion-no-margin\\\"> {{ infoEditForm.value.currency_form ? infoEditForm.value.currency_form : infoEditForm.value.currency }} </span>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.amount\\\">\\r\\n              <div class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"tontineAmount.hasError(validation.type) && (tontineAmount.dirty || tontineAmount.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                {{ validation.message }}\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label>{{ 'TONTINE_DETAIL_TEXT4' | translate }}</ion-label>\\r\\n            <ion-select\\r\\n              (ionChange)=\\\"updatePeriodicity();getCurrentDateInfo(infoEditForm.value.startDate,infoEditForm.value.periodicite)\\\"\\r\\n              formControlName=\\\"periodicite\\\">\\r\\n              <ion-select-option *ngFor=\\\"let period of periodicities\\\" [value]=\\\"period.value\\\">{{ period.label }}\\r\\n              </ion-select-option>\\r\\n            </ion-select>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.frequency\\\">\\r\\n              <div class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"tontineFrequency.hasError(validation.type) && (tontineFrequency.dirty || tontineFrequency.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                {{ validation.message }}\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label>{{ 'DATE_START' | translate }}</ion-label>\\r\\n            <ion-datetime\\r\\n              (ionChange)=\\\"checkDate(infoEditForm.value.startDate); getCurrentDateInfo(infoEditForm.value.startDate,infoEditForm.value.periodicite)\\\"\\r\\n              formControlName=\\\"startDate\\\" displayFormat=\\\"DDDD D MMM, YYYY\\\" [min]=\\\"minDate\\\" [max]=\\\"maxDate\\\" pickerFormat=\\\"DD MMMM YYYY\\\">\\r\\n            </ion-datetime>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngIf=\\\"infoEditForm.value.startDate && !isDateValid\\\">\\r\\n              <div class=\\\"error-message\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                <span [innerHTML]=\\\"'MIN_DATE_ERROR_TEXT' | translate\\\"></span>\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row\\r\\n        *ngIf=\\\"MsgTontinePeriodicity && infoEditForm.value.startDate && infoEditForm.value.periodicite && isDateValid\\\">\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <div class=\\\"ion-padding\\\" color=\\\"dark\\\" *ngIf=\\\"MsgTontinePeriodicity\\\">\\r\\n            <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n            <span [innerHTML]=\\\"MsgTontinePeriodicity\\\"></span>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n        <ion-col *ngIf=\\\"ShowTontinePeriodicityMonthly\\\">\\r\\n          <ion-list>\\r\\n            <ion-radio-group formControlName=\\\"monthFrequencyOption\\\"\\r\\n              (ionChange)=\\\"OptionChange(infoEditForm.value.monthFrequencyOption,infoEditForm.value.startDate)\\\">\\r\\n              <ion-item>\\r\\n                <ion-label>\\r\\n                  {{ 'MSG_TONTINE_MONTH2' | translate}}\\r\\n                </ion-label>\\r\\n                <ion-radio [value]=\\\"0\\\" [checked]=\\\"infoEditForm.value.monthFrequencyOption === 0  ? true: false\\\">\\r\\n                </ion-radio>\\r\\n              </ion-item>\\r\\n              <ion-item>\\r\\n                <ion-label>\\r\\n                  {{ MonthDayOccurencyLabel | translate  }}\\r\\n                </ion-label>\\r\\n                <ion-radio [value]=\\\"1\\\" [checked]=\\\"infoEditForm.value.monthFrequencyOption === 1 ? true: false\\\">\\r\\n                </ion-radio>\\r\\n              </ion-item>\\r\\n            </ion-radio-group>\\r\\n          </ion-list>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\" *ngIf=\\\"MonthDayOccurencyMsg\\\">\\r\\n          <div class=\\\"ion-padding\\\" color=\\\"dark\\\">\\r\\n            <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n            <span class=\\\"ml-4\\\" [innerHTML]=\\\"MonthDayOccurencyMsg\\\"></span>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n                \\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-item lines=\\\"none\\\" [disabled]=\\\"!canEditCaution(infoEditForm.value.caution_id)\\\">                \\r\\n            <ion-toggle  formControlName=\\\"with_caution\\\"  color=\\\"primary\\\"></ion-toggle>\\r\\n            <ion-label>\\r\\n              {{ 'WITH_CAUTION_TEXT' | translate  }}\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n          <div class=\\\"ion-padding-horizontal\\\" *ngIf=\\\"!infoEditForm.value.with_caution && canEditCaution(infoEditForm.value.caution_id)\\\">\\r\\n            <small  [innerHTML]=\\\"'CAUTION_MSG' | translate\\\"></small>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row >\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-item  [disabled]=\\\"!canEditCaution(infoEditForm.value.caution_id) || canEditCaution(infoEditForm.value.caution_id) && !infoEditForm.value.with_caution\\\">\\r\\n            <ion-label position=\\\"floating\\\">{{ 'CAUTION_AMOUNT' | translate }}</ion-label>\\r\\n            <ion-input type=\\\"number\\\"  formControlName=\\\"caution_amount\\\" required></ion-input>\\r\\n            <span slot=\\\"end\\\" class=\\\"slot-prefix ion-no-margin\\\"> {{ infoEditForm.value.currency }} </span>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validationMessages.cautionAmount\\\">\\r\\n              <div class=\\\"error-message\\\" *ngIf=\\\"cautionAmount.invalid && (cautionAmount.dirty || cautionAmount.touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\" ></ion-icon>\\r\\n               <span [innerHTML]=\\\"'MIN_ERROR_CAUTION_AMOUNT' | translate : {amount : 1, currency : infoEditForm.value.currency}\\\"></span>\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div> \\r\\n        </ion-col>          \\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row  >\\r\\n        <ion-col>\\r\\n          <ion-item [disabled]=\\\"!canEditCaution(infoEditForm.value.caution_id) || canEditCaution(infoEditForm.value.caution_id) && !infoEditForm.value.with_caution\\\">\\r\\n            <ion-label>{{ 'CAUTION_TYPE' | translate }}</ion-label>\\r\\n            <ion-select formControlName=\\\"type_caution\\\">\\r\\n              <ion-select-option *ngFor=\\\"let caution of typesCaution\\\" [value]=\\\"caution.value\\\">{{ caution.name }}</ion-select-option>          \\r\\n            </ion-select>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n    </ion-grid>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding ion-text-center\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-button expand=\\\"full\\\"\\r\\n          [disabled]=\\\"canEditTontine()\\\"\\r\\n          color=\\\"warning\\\" class=\\\"ion-text-uppercase\\\" shape=\\\"round\\\" (click)=\\\"updateGeneralInfoTontine()\\\">\\r\\n          {{ 'SAVE_TEXT' | translate }}\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-button expand=\\\"full\\\" fill=\\\"outline\\\" color=\\\"warning\\\" class=\\\"ion-text-uppercase\\\" shape=\\\"round\\\"\\r\\n          (click)=\\\"closeInfoEdit('cancel')\\\">\\r\\n          {{ 'CANCEL_TEXT' | translate }}\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <p class=\\\"ion-text-center\\\">\\r\\n      <ion-spinner *ngIf=\\\"loading\\\" name=\\\"circles\\\"></ion-spinner>\\r\\n    </p>\\r\\n  </ion-grid>\\r\\n</ion-footer>\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, PopoverController, AlertController } from '@ionic/angular';\r\nimport { ContributeComponent } from './contribute/contribute.component';\r\nimport { TontineDetailMenuComponent } from './tontine-detail-menu/tontine-detail-menu.component';\r\nimport { InfoEditComponent } from './info-edit/info-edit.component';\r\nimport { TontineService } from '../services/tontine.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ErrorService } from 'src/app/shared/service/error.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ContributionService } from '../services/contribution.service';\r\nimport { EncheresService } from 'src/app/shared/service/encheres.service';\r\nimport { WalletTontineService } from './wallet/services/wallet-tontine.service';\r\nimport { TontineGlobalDataService } from '../services/tontine-global-data.service';\r\nimport { ContributeSeanceComponent } from './contribute-seance/contribute-seance.component';\r\nimport { TontineErrorService } from 'src/app/dashboard/my-tontines/services/tontine-error.service';\r\nimport { UiService } from 'src/app/shared/service/ui.service';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\nimport { UserService } from '../../user/service/user.service';\r\nimport { StorageData } from 'src/app/shared/service/storage.service';\r\nimport { UtilService } from 'src/app/shared/service/util.service';\r\nimport { LocalStorageService } from 'src/app/shared/service/local-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-tontine-detail',\r\n  templateUrl: './tontine-detail.page.html',\r\n  styleUrls: ['./tontine-detail.page.scss'],\r\n})\r\nexport class TontineDetailPage implements OnInit {\r\n\r\n  tontineId: number;\r\n  members: any;\r\n  currentTontine: any;\r\n  myTontine: any;\r\n  bid: any;\r\n  seance: any;\r\n  cycle: any;\r\n  memberShows: any;\r\n  tontineCountryName: string;\r\n  tontineFrequencyName: string;\r\n  tontineTypeName: string;\r\n  user: any;\r\n  currentSeance: any;\r\n  typesTontines: any;\r\n  currentAmount: any;\r\n  userName: string;\r\n  walletTontines: any;\r\n  detailCaisses: any;\r\n  loadingCaisse: boolean;\r\n  userContribution: any;\r\n  showContributionBtn: boolean;\r\n  nbContributions: any;\r\n  seancesList: any;\r\n  hascheckPreviousSeance: boolean;\r\n  static canConnect: any;\r\n  hasPaidCaution: boolean;\r\n  checkPaidCaution: boolean;\r\n  loadingPay: boolean;\r\n  cautionAmount: number;\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private alertController: AlertController,\r\n    private walletTontine: WalletTontineService,\r\n    private router: Router,\r\n    private storage: StorageData,\r\n    private modatCtrl: ModalController,\r\n    private popoverController: PopoverController,\r\n    private encheresService: EncheresService,\r\n    private event: EventService,\r\n    private translate: TranslateService,\r\n    private tontine: TontineService,\r\n    private tontinesData: TontineGlobalDataService,\r\n    private tontineError: TontineErrorService,\r\n    private activeRoute: ActivatedRoute,\r\n    private error: ErrorService,\r\n    private contribution: ContributionService,\r\n    private util: UtilService,\r\n    private ui: UiService,\r\n    private localStorage: LocalStorageService\r\n  ) {\r\n    this.typesTontines = [];\r\n    this.members = [];\r\n    this.memberShows = [];\r\n    this.tontineCountryName = '';\r\n    this.tontineFrequencyName = '';\r\n    this.tontineTypeName = '';\r\n    this.tontineId = this.activeRoute.snapshot.params.tontineId;\r\n    this.user = this.userService.getUserData();\r\n    const tontineData = this.tontine.getCurrentTontineData();\r\n    console.log(tontineData);\r\n    this.currentSeance = tontineData.seance_courante;\r\n    this.currentAmount = [];\r\n    this.seancesList = [];\r\n    this.userName = '';\r\n    this.loadingCaisse = false;\r\n    this.showContributionBtn = true;\r\n    this.nbContributions = [];\r\n    TontineDetailPage.canConnect = null;\r\n    this.hascheckPreviousSeance = false;\r\n    this.hasPaidCaution = false;\r\n    this.checkPaidCaution = false;\r\n    this.loadingPay = false;\r\n\r\n    this.event.subscribe('cautionPaid', data => {\r\n      this.checkCaution();\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getTontineTypes();\r\n    this.checkCaution();\r\n    this.updateCurrentUserTontine(null);\r\n    // Get the number of pending contributions\r\n    this.getContributions(null);\r\n    this.getUserContributionData(null);\r\n  }\r\n\r\n\r\n\r\n  // Get the list user tontines\r\n  getUserContributionData(event?: any) {\r\n    const param = { tontine_id: this.currentTontine.tontine.tontine_id };\r\n    this.tontine.getMemberStokvelContribution(param).subscribe((reponse: any) => {\r\n      if (reponse && reponse.message === 'success') {\r\n        this.userContribution = reponse;\r\n      }\r\n    }, error => {\r\n      if (error && error.error && error.error.user_not_found) {\r\n        this.error.renewSession().then((data: any) => {\r\n          if (data && data.result === 'OK') {\r\n            this.getUserContributionData(event);\r\n          }\r\n        });\r\n      } else {\r\n        this.error.manageError(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Get the wallet data\r\n  getWalletData(event?: any) {\r\n    // this.loadingCaisse = true;\r\n    const param = { tontine_id: this.currentTontine.tontine.tontine_id };\r\n    this.walletTontine.getTontineWallet(param).subscribe((reponse: any) => {\r\n      // this.loadingCaisse = false;\r\n      if (reponse && reponse.message === 'success') {\r\n        this.walletTontines = reponse.infos_wallet;\r\n        this.detailCaisses = reponse.detail_caisse;\r\n\r\n        this.detailCaisses = this.tontinesData.filterTontineBalance(this.detailCaisses, this.currentTontine.tontine);\r\n        this.storage.set(`tontine-wallet${param.tontine_id}`, { solde: this.walletTontines, caisse: this.detailCaisses });\r\n      }\r\n\r\n      if (event) {\r\n        event.target.complete();\r\n      }\r\n\r\n    }, error => {\r\n      //  this.loadingCaisse = false;\r\n      this.storage.get(`tontine-wallet${param.tontine_id}`).then(walletData => {\r\n        this.walletTontines = walletData ? walletData.solde : null;\r\n        this.detailCaisses = walletData ? walletData.caisse : null;\r\n      });\r\n      if (error && error.error && error.error.message === 'error') {\r\n        if (error.error.user_not_found) {\r\n          this.error.renewSession().then((data: any) => {\r\n            if (data && data.result === 'OK') {\r\n              this.getWalletData(event);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Update the current user tontine\r\n  updateCurrentUserTontine(event?: any) {\r\n    const tontineData = this.tontine.getCurrentTontineData();\r\n    if (tontineData && tontineData.tontine) {\r\n      this.setTontineData(tontineData);\r\n      this.tontine.getTontineDetail(tontineData.tontine.tontine_id).subscribe((reponse: any) => {\r\n        if (reponse.infos_tontine && reponse.infos_tontine.length > 0) {\r\n          this.tontine.setCurrentTontineData(reponse.infos_tontine[0]);\r\n          const tontineData = this.tontine.getCurrentTontineData();\r\n          if (tontineData && tontineData.tontine) {\r\n            this.initTontineData(tontineData);\r\n          }\r\n        }\r\n        // get the tontine wallet \r\n        this.getWalletData(event);\r\n      }, error => {\r\n        if (error && error.error && error.error.bad_token) {\r\n          this.error.renewSession().then((data: any) => {\r\n            if (data && data.result === 'OK') {\r\n              this.updateCurrentUserTontine(event);\r\n            }\r\n          });\r\n        } else {\r\n          this.error.manageError(error);\r\n        }\r\n      });\r\n    } else {\r\n      if (event) {\r\n        event.target.complete();\r\n      }\r\n    }\r\n  }\r\n\r\n  // set to local Stoirage\r\n  setToStorage(data: any) {\r\n    this.localStorage.setItem('app-tontines', JSON.stringify(data));\r\n  }\r\n\r\n  // Get the list user tontines\r\n  getUserTontines() {\r\n    this.tontine.getMyTontine().subscribe((reponse: any) => {\r\n      if (reponse && reponse.message === 'success') {\r\n        if (reponse && reponse.liste_tontine) {\r\n          const allData = this.util.oderByTontineDate(reponse.liste_tontine);\r\n          this.setToStorage(allData);\r\n        }\r\n      }\r\n    }, error => {\r\n      if (error && error.error && error.error.user_not_found) {\r\n        this.error.renewSession().then((data: any) => {\r\n          if (data && data.result === 'OK') {\r\n            this.getUserTontines();\r\n          }\r\n        });\r\n      } else {\r\n        this.error.manageError(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Refresh the list\r\n  refreSher(event) {\r\n    TontineDetailPage.canConnect = null;\r\n    this.updateCurrentUserTontine(event);\r\n    this.getContributions(null);\r\n  }\r\n\r\n  // Get the amount of contribution of the seance\r\n  getAmountContributionSeance(memberList: any, shareAmount: any) {\r\n    return this.tontinesData.getAmountContributionSeance(memberList, shareAmount, this.user.id);\r\n  }\r\n\r\n  // can contribute for seance\r\n  canContributeSeance(memberList) {\r\n    this.showContributionBtn = this.tontinesData.canShowContributionButton(memberList, this.user.id);\r\n    return this.tontinesData.canContributeSeance(memberList, this.user.id);\r\n  }\r\n\r\n\r\n\r\n  // Open the modal current contribution\r\n  openContributeCurrentSeance(param: any) {\r\n    this.modatCtrl\r\n      .create({\r\n        component: ContributeComponent,\r\n        componentProps: {\r\n          tontineName: param.title,\r\n          contribAmount: param.montant,\r\n          data: param\r\n        }\r\n      })\r\n      .then(modalEl => {\r\n        modalEl.present();\r\n        modalEl.onDidDismiss().then(() => {\r\n          this.updateCurrentUserTontine(null);\r\n          this.getContributions(null);\r\n          this.getUserContributionData(null);\r\n\r\n        });\r\n      });\r\n  }\r\n\r\n  // Open the modal previous seance\r\n  openContributePreviousSeance(param: any) {\r\n    this.modatCtrl\r\n      .create({\r\n        component: ContributeSeanceComponent,\r\n        componentProps: {\r\n          tontineName: param.title,\r\n          contribAmount: param.montant,\r\n          data: param\r\n        }\r\n      })\r\n      .then(modalEl => {\r\n        modalEl.present();\r\n        modalEl.onDidDismiss().then((ans) => {\r\n          this.updateCurrentUserTontine(null);\r\n          this.getContributions(null);\r\n          this.getUserContributionData(null);\r\n        });\r\n      });\r\n  }\r\n\r\n  // check bid socket\r\n  checkBidStatus(seance: any, numlot: any) {\r\n    const tontineData = this.tontine.getCurrentTontineData();\r\n    this.contribution.getDataMembresAyantBouffe(tontineData.seance_courante.cycle_id, tontineData.tontine.tontine_id).then((reponse: any) => {\r\n\r\n      console.log(reponse);\r\n\r\n      const listPart = reponse.tontine && reponse.tontine.membres && reponse.tontine.membres.liste_membre ? reponse.tontine.membres.liste_membre : []\r\n      const userId = this.user.id;\r\n      const members = reponse.ans && reponse.ans.membres ? reponse.ans.membres : [];\r\n      const numeroPart = this.tontinesData.getCurrentBidPart(listPart, userId, members);\r\n\r\n      TontineDetailPage.canConnect = this.encheresService.connexion(seance.id);\r\n\r\n      this.encheresService.memberConnection(userId, numeroPart, seance.id, numlot);\r\n      let j = 1;\r\n      while (j <= parseInt(numlot)) {\r\n        this.encheresService.getWinnerCurrent(seance.id + '' + j).subscribe(data => {\r\n          if (data !== null) {\r\n            this.currentAmount.unshift({ somme: JSON.parse(data).somme, seanceID: JSON.parse(data).seance_id, userID: JSON.parse(data).user_id, numero_lot: JSON.parse(data).numero_lot });\r\n            this.currentAmount = this.currentAmount.filter((elem, index, self) => self.findIndex(\r\n              (t) => { return (t.seanceID === elem.seanceID && t.numero_lot === elem.numero_lot) }) === index);\r\n          }\r\n        });\r\n        j++;\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  // set the tontine data\r\n  setTontineData(data) {\r\n    this.currentTontine = data;\r\n    if (this.currentTontine) {\r\n      this.myTontine = {\r\n        name: this.currentTontine.tontine.name,\r\n        description: this.currentTontine.tontine.description,\r\n        type: this.currentTontine.tontine.drawingtype_id,\r\n        type_tontine_key: this.currentTontine.tontine.type_tontine_key,\r\n        country: this.currentTontine.tontine.country,\r\n        country_key: this.currentTontine.tontine.country_key,\r\n        currency: this.currentTontine.tontine.monnaie,\r\n        contribution: this.currentTontine.tontine.coutshare,\r\n        frequency: this.currentTontine.tontine.periodicite,\r\n        frequency_key: this.currentTontine.tontine.periodicite_key,\r\n        dateStart: this.currentSeance ? this.currentSeance.date_debut : this.currentTontine.tontine.date_debut,\r\n        totalShare: this.currentTontine.tontine.nombre_part_max_tontine || '',\r\n        maxShareMber: this.currentTontine.tontine.nombre_part_max_membre,\r\n        nbrOfBaches: this.currentTontine.tontine.numberlot,\r\n        penalityAbsence: this.currentTontine.tontine.penaliteabsencesurlacontributionayantbouffe,\r\n        penalityAbsenceUnit: this.currentTontine.tontine.typepenaliteabsencesurlacontributionayantbouffe === 'pourcentage' ? '%'\r\n          : this.currentTontine.tontine.typepenaliteabsencesurlacontributionayantbouffe,\r\n        penalityContrib: this.currentTontine.tontine.penaliteabsencesurlacontributionayantbouffe,\r\n        penalityContribUnit: this.currentTontine.tontine.typepenaliteretardsurlacontributionayantbouffe === 'pourcentage' ? '%'\r\n          : this.currentTontine.tontine.typepenaliteretardsurlacontributionayantbouffe,\r\n        penalityLoan: this.currentTontine.tontine.penalitesurleremboursement,\r\n        penalityLoanUnit: this.currentTontine.tontine.typepenalitesurleremboursement === 'pourcentage' ? '%'\r\n          : this.currentTontine.tontine.typepenalitesurleremboursement,\r\n        timeDelay: this.currentTontine.tontine.dureesurleretard,\r\n        timeDelayUnit: this.currentTontine.tontine.typedureesurleretard,\r\n        balance: this.currentTontine.tontine.solde_en_caisse,\r\n        contributionCashier: this.currentTontine.tontine.caisse_cotisation,\r\n        penalitiesCashier: this.currentTontine.tontine.caisse_penalite\r\n      };\r\n      this.bid = this.currentTontine.tontine;\r\n      this.seance = this.currentTontine.seance_courante;\r\n      this.cycle = this.currentTontine.cycle_courant;\r\n      this.members = this.currentTontine.membres;\r\n      let i = 0;\r\n\r\n      this.members.liste_membre.forEach(member => {\r\n        if (i < 10 && this.tontinesData.memberNotInWithout(this.memberShows, member.id)) {\r\n          this.memberShows.push(member);\r\n          i++;\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  // init the tontine data\r\n  initTontineData(data: any) {\r\n    this.setTontineData(data);\r\n    // Get the current bid \r\n    if (this.currentTontine && this.currentTontine.tontine && this.currentTontine.tontine.drawingtype_id === 3) {\r\n      if (this.seance && this.seance.id) {\r\n        this.checkBidStatus(this.seance, this.myTontine.nbrOfBaches);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Show the bid detail page\r\n  showBidDetail(tontineId) {\r\n    this.router.navigate(['/', 'dashboard', 'my-tontines', tontineId, 'bid']);\r\n  }\r\n\r\n  // Get the name of the creator\r\n  getCreatorName(memberList: any, creatorId) {\r\n    return this.tontinesData.getCreatorName(memberList, creatorId);\r\n  }\r\n\r\n  getTontineTypeName(typeKey: string) {\r\n    this.translate.get(typeKey).subscribe(value => {\r\n      this.tontineTypeName = value;\r\n    });\r\n    return this.tontineTypeName;\r\n  }\r\n\r\n  getCountryName(countryKey: string) {\r\n    this.translate.get(countryKey).subscribe(value => {\r\n      this.tontineCountryName = value;\r\n    });\r\n    return this.tontineCountryName;\r\n  }\r\n\r\n  getPeriodicityName(frequencyKey: string) {\r\n    this.translate.get(frequencyKey).subscribe(value => {\r\n      this.tontineFrequencyName = value;\r\n    });\r\n    return this.tontineFrequencyName;\r\n  }\r\n\r\n  // Get the type list\r\n  getTontineTypes() {\r\n    this.tontine.getTypeTontine().subscribe((reponse: any) => {\r\n      if (reponse && reponse.type && reponse.type.length > 0) {\r\n        this.typesTontines = reponse.type;\r\n      }\r\n    }, error => {\r\n      this.error.manageError(error);\r\n    });\r\n  }\r\n\r\n  openEditInfo() {\r\n    this.modatCtrl\r\n      .create({\r\n        component: InfoEditComponent\r\n      })\r\n      .then(modalEl => {\r\n        modalEl.present();\r\n        modalEl.onDidDismiss().then(() => {\r\n          this.updateCurrentUserTontine(null);\r\n          setTimeout(() => {\r\n            this.checkCaution();\r\n          }, 5000);\r\n\r\n        });\r\n      });\r\n  }\r\n\r\n  async openContextMenu(ev: any) {\r\n    const popover = await this.popoverController.create({\r\n      component: TontineDetailMenuComponent,\r\n      event: ev\r\n    });\r\n    return await popover.present();\r\n  }\r\n\r\n\r\n  // show option to pay previous seance\r\n  async canPayPreviousSeance(translations: string[], pin: any) {\r\n    const alert = await this.alertController.create({\r\n      header: `${translations[0]}`,\r\n      message: `${translations[1]}`,\r\n      buttons: [\r\n        {\r\n          text: `${translations[2]}`,\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            this.selectPaymentMode(pin, 'previous');\r\n          }\r\n        }, {\r\n          text: `${translations[3]}`,\r\n          handler: () => {\r\n\r\n            this.selectPaymentMode(pin, 'current');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  // show the pin confirmation dilaog\r\n  confirmPin() {\r\n    const userPin = this.userService.getUserSecret();\r\n    const tontineData = this.tontine.getCurrentTontineData();\r\n    if (tontineData) {\r\n      if (tontineData.tontine.tontine_payment_type_id === 1 || tontineData.tontine.drawingtype_id === 6) {\r\n\r\n        this.router.navigate(['/', 'dashboard', 'my-tontines', tontineData.tontine.tontine_id, 'debts']);\r\n      } else {\r\n        if (this.seancesList && this.seancesList.length > 0) {\r\n          // show the dialog for the payment type\r\n          const translationsData = [];\r\n          this.translate.get(['PAY_PREVIOUS_SEANCE_TITLE', 'PAY_PREVIOUS_SEANCE_MSG', 'PREVIOUSE_TEXT', 'CURRENT_TEXT']\r\n            , {\r\n              previousSeance: this.tontinesData.getDate(this.seancesList[0], 'date_debut'),\r\n              currentSeance: this.tontinesData.getDate(this.currentSeance, 'date_debut')\r\n            }).subscribe(trans => {\r\n              translationsData.push(trans.PAY_PREVIOUS_SEANCE_TITLE);\r\n              translationsData.push(trans.PAY_PREVIOUS_SEANCE_MSG);\r\n              translationsData.push(trans.PREVIOUSE_TEXT);\r\n              translationsData.push(trans.CURRENT_TEXT);\r\n              this.canPayPreviousSeance(translationsData, userPin.password);\r\n            });\r\n\r\n        } else {\r\n          this.selectPaymentMode(userPin.password, 'current');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // get number of contributions batches\r\n  getContributions(event?: any) {\r\n    this.nbContributions = [];\r\n    const currentTontine = this.tontine.getCurrentTontineData();\r\n    const currentCycle = currentTontine.cycle_courant;\r\n    const currentSeance = currentTontine.seance_courante;\r\n    const param = {\r\n      tontine_id: currentTontine.tontine.tontine_id\r\n    };\r\n    this.hascheckPreviousSeance = false;\r\n    this.contribution.getSeancesNotContribute(param).subscribe((reponse: any) => {\r\n      if (reponse && reponse.liste_seances && reponse.liste_seances.length > 0) {\r\n\r\n        // Get the seances of cycles\r\n        const listSeances = reponse.liste_seances.filter(data => {\r\n          return currentCycle && (data.cycle_id === currentCycle.id)\r\n        });\r\n\r\n        // Get the list of previous seances\r\n        const seancesList = listSeances.filter(data => { return this.currentSeance && (parseInt(data.seance_id) !== parseInt(this.currentSeance.id)) });\r\n        this.seancesList = this.tontinesData.getCurrentMemberPreviousSeanceData(seancesList, this.currentSeance);\r\n\r\n        // Get the list of seances not contribute\r\n        this.nbContributions = [];\r\n        listSeances.forEach((value) => {\r\n          if (!this.tontinesData.notIn(value, this.nbContributions) && currentSeance && (currentSeance.id !== value.seance_id)) {\r\n            this.nbContributions.push(value);\r\n          }\r\n        });\r\n      }\r\n      if (event) {\r\n        setTimeout(() => {\r\n          event.target.complete();\r\n        }, 200);\r\n      }\r\n      this.hascheckPreviousSeance = true;\r\n\r\n    }, error => {\r\n\r\n      if (event) {\r\n        event.target.complete();\r\n      }\r\n      if (error && error.error && error.error.user_not_found) {\r\n        this.error.renewSession().then((data: any) => {\r\n          if (data && data.result === 'OK') {\r\n            this.getContributions(event);\r\n          } else {\r\n            this.hascheckPreviousSeance = true;\r\n          }\r\n        });\r\n      } else {\r\n        this.hascheckPreviousSeance = true;\r\n        this.error.manageError(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // open the tontine contribution modal\r\n  selectPaymentMode(pin: any, type?: string) {\r\n    const tontineData = this.tontine.getCurrentTontineData();\r\n    const user = this.userService.getUserData();\r\n    if (tontineData) {\r\n      const paymentData = type === 'previous' ? this.formatPreviousSeanceData(pin, tontineData, user, this.seancesList) :\r\n        this.formatCurrentSeanceData(pin, tontineData, user);\r\n\r\n      this.contribution.sendContributionData(paymentData);\r\n      type === 'previous' ? this.openContributePreviousSeance(paymentData) : this.openContributeCurrentSeance(paymentData);\r\n\r\n    }\r\n  }\r\n\r\n  // format the current seance data\r\n  formatCurrentSeanceData(pin: any, tontineData: any, user: any) {\r\n    const paymentData = {\r\n      title: tontineData.tontine.name,\r\n      paymentMode: 'WALLET',\r\n      contribution: this.getAmountContributionSeance(tontineData.membres.liste_membre, tontineData.tontine.coutshare),\r\n      seance_id: tontineData.seance_courante.id,\r\n      device_name: tontineData.tontine.monnaie,\r\n      montant: tontineData.tontine.coutshare,\r\n      typecontribution_id: 2,\r\n      sens_contribution: 'sortant',\r\n      liste_part: this.tontinesData.getListPart(tontineData.membres.liste_membre, user.id),\r\n      pin: pin\r\n    };\r\n    return paymentData;\r\n  }\r\n\r\n  // format the previous seance data\r\n  formatPreviousSeanceData(pin: any, tontineData: any, user: any, seances: any) {\r\n    const paymentData = {\r\n      title: tontineData.tontine.name,\r\n      paymentMode: 'WALLET',\r\n      contribution: this.tontinesData.getPreviousSeanceContribution(seances),\r\n      seance_id: seances[0].seance_id,\r\n      device_name: tontineData.tontine.monnaie,\r\n      montant: tontineData.tontine.coutshare,\r\n      typecontribution_id: 2,\r\n      sens_contribution: 'sortant',\r\n      liste_part: this.tontinesData.getListPart(tontineData.membres.liste_membre, user.id),\r\n      pin: pin\r\n    };\r\n    return paymentData;\r\n  }\r\n\r\n  // check if i can contribute seance\r\n  checkContributeCondition() {\r\n    let ican = false;\r\n    if (this.currentSeance\r\n      && this.currentTontine\r\n      && this.currentTontine.tontine\r\n      && this.currentTontine.tontine.active === 1\r\n      && this.checkPaidCaution\r\n      && this.hasPaidCaution\r\n      && this.hascheckPreviousSeance\r\n    ) {\r\n      ican = true;\r\n    }\r\n    return ican;\r\n  }\r\n\r\n\r\n  // can pay caution\r\n  icanPayCaution(currentTontine: any) {\r\n    let ican = false;\r\n    if (!this.hasPaidCaution\r\n      && this.checkPaidCaution\r\n      && this.hascheckPreviousSeance\r\n      && this.hasCycle(currentTontine)\r\n      && this.cautionAmount > 0\r\n      && (currentTontine.seance_courante && currentTontine.seance_courante.numero_seance < 3 || !currentTontine.seance_courante)\r\n    ) {\r\n      ican = true;\r\n    }\r\n    return ican;\r\n  }\r\n\r\n  // check if it is admin\r\n  isAdmin() {\r\n    return this.currentTontine && this.currentTontine.tontine && this.currentTontine.tontine.administrator === 1;\r\n  }\r\n\r\n  isTraditionnal() {\r\n    return this.currentTontine && this.currentTontine.tontine && this.currentTontine.tontine.tontine_payment_type_id === 1;\r\n  }\r\n\r\n  // check if it bid tontine\r\n  isBid() {\r\n    return this.myTontine && this.myTontine.type === 3;\r\n  }\r\n\r\n  // check if it loan tontine\r\n  isLoan() {\r\n    return this.myTontine && this.myTontine.type === 6;\r\n  }\r\n\r\n  // check if it loan tontine\r\n  isClassement() {\r\n    return this.myTontine && this.myTontine.type === 5;\r\n  }\r\n\r\n  // if the tontine has a caution \r\n  checkCaution() {\r\n    const tontineData = this.tontine.getCurrentTontineData();\r\n    if (tontineData && tontineData.tontine && tontineData.cycle_courant) {\r\n      this.checkIfcautionPaid(tontineData.tontine, tontineData.cycle_courant.id, this.user.id);\r\n    }\r\n  }\r\n\r\n  // check if a tontine has a caution \r\n  checkTontineCaution(tontineData: any) {\r\n    return this.tontinesData.hasTontineCaution(tontineData);\r\n  }\r\n\r\n  // check if a user has paid a caution\r\n  checkIfcautionPaid(tontineData: any, cycleId: any, userId: any) {\r\n    this.checkPaidCaution = false;\r\n    if (this.checkTontineCaution(tontineData)) {\r\n      this.getCautionData(cycleId, userId);\r\n    } else {\r\n      this.hasPaidCaution = true;\r\n      this.checkPaidCaution = true;\r\n    }\r\n  }\r\n\r\n  // Check if the cycle is define\r\n  hasCycle(tontineData: any) {\r\n    return this.tontinesData.hasTontineCycle(tontineData);\r\n  }\r\n\r\n  // get the caution data\r\n  getCautionData(cycleId: any, userId: any) {\r\n    this.checkPaidCaution = false;\r\n    this.tontine.getMembersPaidPartialCautions(cycleId).subscribe(data => {\r\n      console.log(data);\r\n      if (data && data.message === 'success') {\r\n        let members = data.liste_members;\r\n        members = members.filter((member: any) => { return parseInt(member.infos_user.id, 10) === parseInt(userId, 10) });\r\n        this.hasPaidCaution = members.length > 0 ? false : true;\r\n        this.cautionAmount = members.length > 0 ? parseFloat(members[0].rest_amount_to_pay ? members[0].rest_amount_to_pay : 0) : 0;\r\n        this.checkPaidCaution = true;\r\n        console.log(this.checkPaidCaution);\r\n        console.log(this.hasPaidCaution);\r\n        console.log(this.cautionAmount);\r\n      }\r\n    }, error => {\r\n      if (error && error.error && error.error.message === 'error') {\r\n        if (error.error.user_not_found) {\r\n          this.error.renewSession().then((session: any) => {\r\n            if (session && session.result === \"OK\") {\r\n              this.getCautionData(cycleId, userId);\r\n            } else {\r\n              this.checkPaidCaution = true;\r\n            }\r\n          });\r\n        } else {\r\n          this.checkPaidCaution = true;\r\n          this.tontineError.manageTontineError(error)\r\n        }\r\n      } else {\r\n        this.checkPaidCaution = true;\r\n        this.error.manageError(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // pay the cation\r\n  payCaution(currentTontine: any, userId: number) {\r\n    const param = {\r\n      cycle_id: currentTontine.cycle_courant.id,\r\n      amount: this.cautionAmount\r\n    };\r\n\r\n    this.loadingPay = true;\r\n    this.translate.get('TOPUP_TEXT1').subscribe(trans => {\r\n      this.ui.presentLoading(trans);\r\n    });\r\n\r\n    this.contribution.payMemberCaution(param).subscribe((reponse: any) => {\r\n\r\n      if (reponse && reponse.message === 'success') {\r\n        this.translate.get('PAY_CAUTION_RESULT_MSG').subscribe(trans => {\r\n          this.ui.presentToast(trans);\r\n        });\r\n        this.checkIfcautionPaid(this.currentTontine.tontine, this.currentTontine.cycle_courant.id, this.user.id);\r\n      }\r\n      this.loadingPay = false;\r\n      this.ui.dismissLoading();\r\n    }, error => {\r\n      this.loadingPay = false;\r\n\r\n      if (error && error.error && error.error.message === 'error') {\r\n        if (error.error.user_not_found) {\r\n          this.loadingPay = true;\r\n          this.error.renewSession().then((session: any) => {\r\n            this.ui.dismissLoading();\r\n            if (session && session.result === \"OK\") {\r\n              this.payCaution(currentTontine, userId);\r\n            } else {\r\n              this.loadingPay = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.ui.dismissLoading();\r\n          this.tontineError.manageTontineError(error)\r\n        }\r\n      } else {\r\n        this.ui.dismissLoading();\r\n        this.error.manageError(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // show option to pay previous seance\r\n  async canPayCaution(translations: string[], currentTontine: any, userId: number) {\r\n    const alert = await this.alertController.create({\r\n      header: `${translations[0]}`,\r\n      message: `${translations[1]}`,\r\n      buttons: [\r\n        {\r\n          text: `${translations[2]}`,\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n\r\n          }\r\n        }, {\r\n          text: `${translations[3]}`,\r\n          handler: () => {\r\n            this.payCaution(currentTontine, userId);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  // confim Payment\r\n  confirmCautionPin(currentTontine: any, userId: number) {\r\n    const translationsData = [];\r\n    this.translate.get(['PAY_CAUTION_TEXT', 'PAY_CAUTION_OK_MSG', 'CANCEL_TEXT', 'YES_TEXT'],\r\n      { amount: this.cautionAmount, currency: currentTontine.tontine.monnaie }).subscribe(trans => {\r\n        translationsData.push(trans.PAY_CAUTION_TEXT);\r\n        translationsData.push(trans.PAY_CAUTION_OK_MSG);\r\n        translationsData.push(trans.CANCEL_TEXT);\r\n        translationsData.push(trans.YES_TEXT);\r\n        this.canPayCaution(translationsData, currentTontine, userId);\r\n      });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { TontineDetailPage } from './tontine-detail.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: TontineDetailPage\r\n    },\r\n    {\r\n        path: 'session',\r\n        loadChildren: () => import('./session/session.module').then(m => m.SessionPageModule)\r\n    },\r\n    {\r\n        path: 'members',\r\n        loadChildren: () => import('./members/members.module').then(m => m.MembersPageModule)\r\n    },\r\n    {\r\n        path: 'shares',\r\n        loadChildren: () => import('./shares/shares.module').then(m => m.SharesPageModule)\r\n    }\r\n    ,\r\n    {\r\n        path: 'roles',\r\n        loadChildren: () => import('./roles/roles.module').then(m => m.RolesPageModule)\r\n    },\r\n    {\r\n        path: 'penalities',\r\n        loadChildren: () => import('./penalities/penalities.module').then(m => m.PenalitiesPageModule)\r\n    },\r\n    {\r\n        path: 'stat/pools/:id',\r\n        loadChildren: () => import('./stat-pool-detail/stat-pool-detail.module').then(m => m.StatPoolDetailPageModule)\r\n    },\r\n    {\r\n        path: 'stat/pools-session/:id',\r\n        loadChildren: () => import('./stat-pool-detail-session/stat-pool-detail-session.module').then(m => m.StatPoolDetailSessionPageModule)\r\n    },\r\n    {\r\n        path: 'stat/pools',\r\n        loadChildren: () => import('./stat-pools/stat-pools.module').then(m => m.StatPoolsPageModule)\r\n    },\r\n    {\r\n        path: 'stat',\r\n        loadChildren: () => import('./stat/stat.module').then(m => m.StatPageModule)\r\n    },\r\n    {\r\n        path: 'history',\r\n        loadChildren: () => import('./history/history.module').then(m => m.HistoryPageModule)\r\n    },\r\n    {\r\n        path: 'bid',\r\n        loadChildren: () => import('./bid/bid.module').then(m => m.BidPageModule)\r\n    },\r\n    { \r\n        path: 'debts', \r\n        loadChildren: () => import('./debts/debts.module').then(m => m.DebtsPageModule)\r\n    },\r\n    { \r\n        path: 'session-no-paid', \r\n        loadChildren: () => import('./session-no-paid/session-no-paid.module').then(m => m.SessionNoPaidPageModule)\r\n    },\r\n    \r\n    { \r\n        path: 'wallet/top-up', \r\n        loadChildren: () => import( './wallet/top-up/top-up.module').then(m => m.TopUpPageModule) \r\n    },\r\n    { \r\n        path: 'wallet/withdrawal', \r\n        loadChildren: () => import( './wallet/withdrawal/withdrawal.module').then(m => m.WithdrawalPageModule)\r\n    },\r\n    { \r\n        path: 'wallet/history', \r\n        loadChildren: () => import( './wallet/history/history.module').then(m => m.HistoryPageModule)\r\n    },\r\n    { \r\n        path: 'wallet', \r\n        loadChildren: () => import( './wallet/wallet.module').then(m => m.WalletPageModule)\r\n    },\r\n    { \r\n        path: 'jackpot-order', \r\n        loadChildren: () => import( './jackpot-order/jackpot-order.module').then(m => m.JackpotOrderPageModule)\r\n    },\r\n    { \r\n        path: 'loans', \r\n        loadChildren: () => import('./loans/loans.module').then(m => m.LoansPageModule)\r\n    },\r\n    { \r\n        path: 'contrib-not-paid', \r\n        loadChildren: () => import('./contribution-not-paid/contribution-not-paid.module').then(m => m.ContributionNotPaidPageModule)\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class TontineDetailRouting {\r\n\r\n}\r\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title class=\\\"ion-text-center\\\">{{ 'CONTRIBUTE_MSG' | translate }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"tontine-contribute\\\">\\n  <h4 class=\\\"ion-padding-horizontal\\\"><small>{{ 'PAIDMODE_MSG1' | translate }} : <b>{{ tontineName }}</b></small></h4>\\n  <app-paidmode [amountPay]=\\\"contribAmount\\\"></app-paidmode>\\n</ion-content>\\n\\n<ion-footer class=\\\"ion-padding ion-text-center\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button expand=\\\"full\\\" \\n                fill=\\\"outline\\\"\\n                color=\\\"warning\\\" \\n                class=\\\"ion-text-uppercase\\\"\\n                shape=\\\"round\\\" (click)=\\\"closeContribute()\\\">\\n            {{ 'CANCEL_TEXT' | translate }}\\n          </ion-button>\\n      </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TontineDetailPage } from './tontine-detail.page';\r\nimport { TontineDetailRouting } from './tontine-detail-routing.module';\r\nimport { ContributeComponent } from './contribute/contribute.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { TontineDetailMenuComponent } from './tontine-detail-menu/tontine-detail-menu.component';\r\nimport { InfoEditComponent } from './info-edit/info-edit.component';\r\nimport { ContributeSeanceComponent } from './contribute-seance/contribute-seance.component';\r\nimport { ContributeSeanceCautionComponent } from './contribute-seance-caution/contribute-seance-caution.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    TontineDetailRouting,\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    TontineDetailPage,\r\n    ContributeComponent,\r\n    TontineDetailMenuComponent,\r\n    InfoEditComponent,\r\n    ContributeSeanceComponent,\r\n    ContributeSeanceCautionComponent\r\n  ],\r\n  entryComponents: [\r\n    ContributeComponent,\r\n    TontineDetailMenuComponent,\r\n    InfoEditComponent,\r\n    ContributeSeanceComponent,\r\n    ContributeSeanceCautionComponent\r\n  ]\r\n})\r\nexport class TontineDetailPageModule {}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\n\r\n@Component({\r\n  selector: 'app-contribute-seance',\r\n  templateUrl: './contribute-seance.component.html',\r\n  styleUrls: ['./contribute-seance.component.scss'],\r\n})\r\nexport class ContributeSeanceComponent implements OnInit {\r\n\r\n  \r\n  @Input() tontineName: string;\r\n  @Input() contribAmount: number;\r\n  tontineData: any;\r\n\r\n  constructor(\r\n    private modatCtrl: ModalController,\r\n    private event: EventService,\r\n    private params: NavParams\r\n  ) {\r\n      this.tontineData = this.params.get('data');\r\n      this.event.subscribe('modal-pay-seance', () => {\r\n          this.closeContribute('OK');\r\n      });\r\n   }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeContribute(message?: any) {\r\n    if (this.modatCtrl) {\r\n      this.modatCtrl.dismiss(message, 'cancel');\r\n    }\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0b250aW5lLWRldGFpbC1tZW51LmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { EventService } from 'src/app/shared/service/events.service';\r\n\r\n@Component({\r\n  selector: 'app-contribute-seance-caution',\r\n  templateUrl: './contribute-seance-caution.component.html',\r\n  styleUrls: ['./contribute-seance-caution.component.scss'],\r\n})\r\nexport class ContributeSeanceCautionComponent implements OnInit {\r\n\r\n  \r\n  @Input() tontineName: string;\r\n  @Input() contribAmount: number;\r\n  tontineData: any;\r\n\r\n  constructor(\r\n    private modatCtrl: ModalController,\r\n    private event: EventService,\r\n    params: NavParams\r\n  ) {\r\n      this.tontineData = params.get('data');\r\n      this.event.subscribe('modal-pay-seance', () => {\r\n          this.closeContribute('OK');\r\n      });\r\n\r\n      console.log('caution components');\r\n   }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeContribute(message?: any) {\r\n    if (this.modatCtrl) {\r\n      this.modatCtrl.dismiss(message, 'cancel');\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}